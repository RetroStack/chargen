{"version":3,"file":"component---src-pages-board-tsx-619a14b740709f0f5894.js","mappings":"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","sources":["webpack://trs-80-model-1-debugging/./src/pages/board.tsx","webpack://trs-80-model-1-debugging/./node_modules/transformation-matrix/src/applyToPoint.js","webpack://trs-80-model-1-debugging/./node_modules/transformation-matrix/src/fromObject.js","webpack://trs-80-model-1-debugging/./node_modules/transformation-matrix/src/inverse.js","webpack://trs-80-model-1-debugging/./node_modules/transformation-matrix/src/utils.js","webpack://trs-80-model-1-debugging/./node_modules/transformation-matrix/src/translate.js","webpack://trs-80-model-1-debugging/./node_modules/transformation-matrix/src/transform.js","webpack://trs-80-model-1-debugging/./node_modules/transformation-matrix/src/scale.js","webpack://trs-80-model-1-debugging/./node_modules/transformation-matrix/src/toString.js","webpack://trs-80-model-1-debugging/./node_modules/transformation-matrix/src/fromTransformAttribute.autogenerated.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/constants.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/features/common.js","webpack://trs-80-model-1-debugging/./node_modules/transformation-matrix/src/identity.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/events/viewer-event.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/features/pan.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/utils/calculateBox.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/features/zoom.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/features/interactions.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/events/viewer-mouse-event.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/events/viewer-touch-event.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/utils/parseViewBox.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/features/interactions-touch.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/features/miniature.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/ui/cursor-polyfill.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/utils/RandomUID.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/utils/getDisplayName.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/ui/border-gradient.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/ui/selection.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/ui-toolbar/icon-cursor.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/ui-toolbar/icon-pan.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/ui-toolbar/icon-zoom-in.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/ui-toolbar/icon-zoom-out.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/ui-toolbar/icon-fit.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/ui-toolbar/toolbar-button.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/ui-toolbar/toolbar.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/ui-miniature/icon-arrow.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/ui-miniature/miniature-toggle-button.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/ui-miniature/miniature-mask.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/ui-miniature/miniature.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/viewer.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/events/event-factory.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/utils/mapRange.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/ui/detect-touch.js","webpack://trs-80-model-1-debugging/./node_modules/react-svg-pan-zoom/build-es/uncontrolled-viewer.js"],"sourcesContent":["import * as React from \"react\";\nimport type { HeadFC, PageProps } from \"gatsby\";\n\nimport Layout from \"../components/Layout\";\nimport E1 from \"../components/pcb/E1\";\n\nimport \"../styles/board.css\";\n\nconst BoardPage: React.FC<PageProps> = () => {\n  return <E1 />;\n};\n\nexport default BoardPage;\n\nexport const Head: HeadFC = () => <title>E1</title>;\n","/**\n * Calculate a point transformed with an affine matrix\n * @param matrix {Matrix} Affine Matrix\n * @param  point {Point} Point\n * @returns {Point} Point\n */\nexport function applyToPoint (matrix, point) {\n  return Array.isArray(point)\n    ? [\n        matrix.a * point[0] + matrix.c * point[1] + matrix.e,\n        matrix.b * point[0] + matrix.d * point[1] + matrix.f\n      ]\n    : {\n        x: matrix.a * point.x + matrix.c * point.y + matrix.e,\n        y: matrix.b * point.x + matrix.d * point.y + matrix.f\n      }\n}\n\n/**\n * Calculate an array of points transformed with an affine matrix\n * @param matrix {Matrix} Affine Matrix\n * @param points {Point[]} Array of point\n * @returns {Point[]} Array of point\n */\nexport function applyToPoints (matrix, points) {\n  return points.map(point => applyToPoint(matrix, point))\n}\n","/**\n * Extract an affine matrix from an object that contains a,b,c,d,e,f keys\n * Any value could be a float or a string that contains a float\n * @param object {Object} Object that contains a,b,c,d,e,f keys\n * @return {Matrix} Affine Matrix\n */\nexport function fromObject (object) {\n  return {\n    a: parseFloat(object.a),\n    b: parseFloat(object.b),\n    c: parseFloat(object.c),\n    d: parseFloat(object.d),\n    e: parseFloat(object.e),\n    f: parseFloat(object.f)\n  }\n}\n","/**\n * Calculate a matrix that is the inverse of the provided matrix\n * @param matrix {Matrix} Affine Matrix\n * @returns {Matrix} Inverted Affine Matrix\n */\nexport function inverse (matrix) {\n  // http://www.wolframalpha.com/input/?i=Inverse+%5B%7B%7Ba,c,e%7D,%7Bb,d,f%7D,%7B0,0,1%7D%7D%5D\n\n  const { a, b, c, d, e, f } = matrix\n\n  const denom = a * d - b * c\n\n  return {\n    a: d / denom,\n    b: b / -denom,\n    c: c / -denom,\n    d: a / denom,\n    e: (d * e - c * f) / -denom,\n    f: (b * e - a * f) / denom\n  }\n}\n","export function isUndefined (val) {\n  return typeof val === 'undefined'\n}\n\nexport function isNumeric (n) {\n  return typeof n === 'number' &&\n    !Number.isNaN(n) &&\n    Number.isFinite(n)\n}\n\nexport function isObject (obj) {\n  return typeof obj === 'object' &&\n    obj !== null &&\n    !Array.isArray(obj)\n}\n\nexport function matchesShape (obj, keys) {\n  return keys.every(key => key in obj)\n}\n","/**\n * Calculate a translate matrix\n * @param tx {number} Translation on axis x\n * @param [ty = 0] {number} Translation on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function translate (tx, ty = 0) {\n  return {\n    a: 1,\n    c: 0,\n    e: tx,\n    b: 0,\n    d: 1,\n    f: ty\n  }\n}\n","/**\n * Merge multiple matrices into one\n * @param matrices {...Matrix | Matrix[]} Matrices listed as separate parameters or in an array\n * @returns {Matrix} Affine Matrix\n */\nexport function transform (...matrices) {\n  matrices = Array.isArray(matrices[0]) ? matrices[0] : matrices\n\n  const multiply = (m1, m2) => {\n    return {\n      a: m1.a * m2.a + m1.c * m2.b,\n      c: m1.a * m2.c + m1.c * m2.d,\n      e: m1.a * m2.e + m1.c * m2.f + m1.e,\n      b: m1.b * m2.a + m1.d * m2.b,\n      d: m1.b * m2.c + m1.d * m2.d,\n      f: m1.b * m2.e + m1.d * m2.f + m1.f\n    }\n  }\n\n  switch (matrices.length) {\n    case 0:\n      throw new Error('no matrices provided')\n\n    case 1:\n      return matrices[0]\n\n    case 2:\n      return multiply(matrices[0], matrices[1])\n\n    default: {\n      const [m1, m2, ...rest] = matrices\n      const m = multiply(m1, m2)\n      return transform(m, ...rest)\n    }\n  }\n}\n\n/**\n * Merge multiple matrices into one\n * @param matrices {...Matrix | Matrix[]} Matrices listed as separate parameters or in an array\n * @returns {Matrix} Affine Matrix\n */\nexport function compose (...matrices) {\n  return transform(...matrices)\n}\n","import { isUndefined } from './utils'\nimport { translate } from './translate'\nimport { transform } from './transform'\n\n/**\n * Calculate a scaling matrix\n * @param sx {number} Scaling on axis x\n * @param [sy = sx] {number} Scaling on axis y (default sx)\n * @param [cx] {number} If (cx,cy) are supplied the scaling is about this point\n * @param [cy] {number} If (cx,cy) are supplied the scaling is about this point\n * @returns {Matrix} Affine Matrix\n */\nexport function scale (sx, sy = undefined, cx = undefined, cy = undefined) {\n  if (isUndefined(sy)) sy = sx\n\n  const scaleMatrix = {\n    a: sx,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: sy,\n    f: 0\n  }\n\n  if (isUndefined(cx) || isUndefined(cy)) {\n    return scaleMatrix\n  }\n\n  return transform([\n    translate(cx, cy),\n    scaleMatrix,\n    translate(-cx, -cy)\n  ])\n}\n","/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toCSS (matrix) {\n  return toString(matrix)\n}\n\n/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toSVG (matrix) {\n  return toString(matrix)\n}\n\n/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toString (matrix) {\n  return `matrix(${matrix.a},${matrix.b},${matrix.c},${matrix.d},${matrix.e},${matrix.f})`\n}\n","// Generated by Peggy 3.0.2.\n//\n// https://peggyjs.org/\n\nfunction peg$subclass(child, parent) {\n  function C() { this.constructor = child; }\n  C.prototype = parent.prototype;\n  child.prototype = new C();\n}\n\nfunction peg$SyntaxError(message, expected, found, location) {\n  var self = Error.call(this, message);\n  // istanbul ignore next Check is a necessary evil to support older environments\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(self, peg$SyntaxError.prototype);\n  }\n  self.expected = expected;\n  self.found = found;\n  self.location = location;\n  self.name = \"SyntaxError\";\n  return self;\n}\n\npeg$subclass(peg$SyntaxError, Error);\n\nfunction peg$padEnd(str, targetLength, padString) {\n  padString = padString || \" \";\n  if (str.length > targetLength) { return str; }\n  targetLength -= str.length;\n  padString += padString.repeat(targetLength);\n  return str + padString.slice(0, targetLength);\n}\n\npeg$SyntaxError.prototype.format = function(sources) {\n  var str = \"Error: \" + this.message;\n  if (this.location) {\n    var src = null;\n    var k;\n    for (k = 0; k < sources.length; k++) {\n      if (sources[k].source === this.location.source) {\n        src = sources[k].text.split(/\\r\\n|\\n|\\r/g);\n        break;\n      }\n    }\n    var s = this.location.start;\n    var offset_s = (this.location.source && (typeof this.location.source.offset === \"function\"))\n      ? this.location.source.offset(s)\n      : s;\n    var loc = this.location.source + \":\" + offset_s.line + \":\" + offset_s.column;\n    if (src) {\n      var e = this.location.end;\n      var filler = peg$padEnd(\"\", offset_s.line.toString().length, ' ');\n      var line = src[s.line - 1];\n      var last = s.line === e.line ? e.column : line.length + 1;\n      var hatLen = (last - s.column) || 1;\n      str += \"\\n --> \" + loc + \"\\n\"\n          + filler + \" |\\n\"\n          + offset_s.line + \" | \" + line + \"\\n\"\n          + filler + \" | \" + peg$padEnd(\"\", s.column - 1, ' ')\n          + peg$padEnd(\"\", hatLen, \"^\");\n    } else {\n      str += \"\\n at \" + loc;\n    }\n  }\n  return str;\n};\n\npeg$SyntaxError.buildMessage = function(expected, found) {\n  var DESCRIBE_EXPECTATION_FNS = {\n    literal: function(expectation) {\n      return \"\\\"\" + literalEscape(expectation.text) + \"\\\"\";\n    },\n\n    class: function(expectation) {\n      var escapedParts = expectation.parts.map(function(part) {\n        return Array.isArray(part)\n          ? classEscape(part[0]) + \"-\" + classEscape(part[1])\n          : classEscape(part);\n      });\n\n      return \"[\" + (expectation.inverted ? \"^\" : \"\") + escapedParts.join(\"\") + \"]\";\n    },\n\n    any: function() {\n      return \"any character\";\n    },\n\n    end: function() {\n      return \"end of input\";\n    },\n\n    other: function(expectation) {\n      return expectation.description;\n    }\n  };\n\n  function hex(ch) {\n    return ch.charCodeAt(0).toString(16).toUpperCase();\n  }\n\n  function literalEscape(s) {\n    return s\n      .replace(/\\\\/g, \"\\\\\\\\\")\n      .replace(/\"/g,  \"\\\\\\\"\")\n      .replace(/\\0/g, \"\\\\0\")\n      .replace(/\\t/g, \"\\\\t\")\n      .replace(/\\n/g, \"\\\\n\")\n      .replace(/\\r/g, \"\\\\r\")\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return \"\\\\x0\" + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return \"\\\\x\"  + hex(ch); });\n  }\n\n  function classEscape(s) {\n    return s\n      .replace(/\\\\/g, \"\\\\\\\\\")\n      .replace(/\\]/g, \"\\\\]\")\n      .replace(/\\^/g, \"\\\\^\")\n      .replace(/-/g,  \"\\\\-\")\n      .replace(/\\0/g, \"\\\\0\")\n      .replace(/\\t/g, \"\\\\t\")\n      .replace(/\\n/g, \"\\\\n\")\n      .replace(/\\r/g, \"\\\\r\")\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return \"\\\\x0\" + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return \"\\\\x\"  + hex(ch); });\n  }\n\n  function describeExpectation(expectation) {\n    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);\n  }\n\n  function describeExpected(expected) {\n    var descriptions = expected.map(describeExpectation);\n    var i, j;\n\n    descriptions.sort();\n\n    if (descriptions.length > 0) {\n      for (i = 1, j = 1; i < descriptions.length; i++) {\n        if (descriptions[i - 1] !== descriptions[i]) {\n          descriptions[j] = descriptions[i];\n          j++;\n        }\n      }\n      descriptions.length = j;\n    }\n\n    switch (descriptions.length) {\n      case 1:\n        return descriptions[0];\n\n      case 2:\n        return descriptions[0] + \" or \" + descriptions[1];\n\n      default:\n        return descriptions.slice(0, -1).join(\", \")\n          + \", or \"\n          + descriptions[descriptions.length - 1];\n    }\n  }\n\n  function describeFound(found) {\n    return found ? \"\\\"\" + literalEscape(found) + \"\\\"\" : \"end of input\";\n  }\n\n  return \"Expected \" + describeExpected(expected) + \" but \" + describeFound(found) + \" found.\";\n};\n\nfunction peg$parse(input, options) {\n  options = options !== undefined ? options : {};\n\n  var peg$FAILED = {};\n  var peg$source = options.grammarSource;\n\n  var peg$startRuleFunctions = { transformList: peg$parsetransformList };\n  var peg$startRuleFunction = peg$parsetransformList;\n\n  var peg$c0 = \"matrix\";\n  var peg$c1 = \"(\";\n  var peg$c2 = \")\";\n  var peg$c3 = \"translate\";\n  var peg$c4 = \"scale\";\n  var peg$c5 = \"rotate\";\n  var peg$c6 = \"skewX\";\n  var peg$c7 = \"skewY\";\n  var peg$c8 = \",\";\n  var peg$c9 = \".\";\n\n  var peg$r0 = /^[eE]/;\n  var peg$r1 = /^[+\\-]/;\n  var peg$r2 = /^[0-9]/;\n  var peg$r3 = /^[ \\t\\r\\n]/;\n\n  var peg$e0 = peg$literalExpectation(\"matrix\", false);\n  var peg$e1 = peg$literalExpectation(\"(\", false);\n  var peg$e2 = peg$literalExpectation(\")\", false);\n  var peg$e3 = peg$literalExpectation(\"translate\", false);\n  var peg$e4 = peg$literalExpectation(\"scale\", false);\n  var peg$e5 = peg$literalExpectation(\"rotate\", false);\n  var peg$e6 = peg$literalExpectation(\"skewX\", false);\n  var peg$e7 = peg$literalExpectation(\"skewY\", false);\n  var peg$e8 = peg$literalExpectation(\",\", false);\n  var peg$e9 = peg$otherExpectation(\"fractionalConstant\");\n  var peg$e10 = peg$literalExpectation(\".\", false);\n  var peg$e11 = peg$classExpectation([\"e\", \"E\"], false, false);\n  var peg$e12 = peg$classExpectation([\"+\", \"-\"], false, false);\n  var peg$e13 = peg$classExpectation([[\"0\", \"9\"]], false, false);\n  var peg$e14 = peg$classExpectation([\" \", \"\\t\", \"\\r\", \"\\n\"], false, false);\n\n  var peg$f0 = function(ts) { return ts; };\n  var peg$f1 = function(t, ts) { return t.concat(ts) };\n  var peg$f2 = function(a, b, c, d, e, f) {\n      return [{type: 'matrix', a: a, b: b, c: c, d: d, e: e, f: f}];\n    };\n  var peg$f3 = function(tx, ty) {\n      var t = {type: 'translate', tx: tx};\n      if (ty) t.ty = ty;\n      return [t];\n    };\n  var peg$f4 = function(sx, sy) {\n      var s = {type:'scale', sx: sx};\n      if (sy) s.sy = sy;\n      return [s];\n    };\n  var peg$f5 = function(angle, c) {\n      var r = {type:'rotate', angle: angle};\n      if (c) {\n        r.cx = c[0];\n        r.cy = c[1];\n      }\n      return [r];\n    };\n  var peg$f6 = function(angle) {\n      return [{type: 'skewX', angle: angle}];\n    };\n  var peg$f7 = function(angle) {\n      return [{type: 'skewY', angle: angle}];\n    };\n  var peg$f8 = function(f) { return parseFloat(f.join(\"\")); };\n  var peg$f9 = function(i) { return parseInt(i.join(\"\")); };\n  var peg$f10 = function(n) { return n; };\n  var peg$f11 = function(n1, n2) { return [n1, n2]; };\n  var peg$f12 = function(ds) { return ds.join(\"\"); };\n  var peg$f13 = function(f, e) { return [f, e || null].join(\"\")};\n  var peg$f14 = function(d, e) { return [d, e].join(\"\")};\n  var peg$f15 = function(d1, d2) { return [d1 ? d1.join(\"\") : null, \".\", d2.join(\"\")].join(\"\"); };\n  var peg$f16 = function(d) { return d.join(\"\"); };\n  var peg$f17 = function(s, d) { return ['e', s, d.join(\"\")].join(\"\") };\n  var peg$currPos = 0;\n  var peg$savedPos = 0;\n  var peg$posDetailsCache = [{ line: 1, column: 1 }];\n  var peg$maxFailPos = 0;\n  var peg$maxFailExpected = [];\n  var peg$silentFails = 0;\n\n  var peg$result;\n\n  if (\"startRule\" in options) {\n    if (!(options.startRule in peg$startRuleFunctions)) {\n      throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n    }\n\n    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n  }\n\n  function text() {\n    return input.substring(peg$savedPos, peg$currPos);\n  }\n\n  function offset() {\n    return peg$savedPos;\n  }\n\n  function range() {\n    return {\n      source: peg$source,\n      start: peg$savedPos,\n      end: peg$currPos\n    };\n  }\n\n  function location() {\n    return peg$computeLocation(peg$savedPos, peg$currPos);\n  }\n\n  function expected(description, location) {\n    location = location !== undefined\n      ? location\n      : peg$computeLocation(peg$savedPos, peg$currPos);\n\n    throw peg$buildStructuredError(\n      [peg$otherExpectation(description)],\n      input.substring(peg$savedPos, peg$currPos),\n      location\n    );\n  }\n\n  function error(message, location) {\n    location = location !== undefined\n      ? location\n      : peg$computeLocation(peg$savedPos, peg$currPos);\n\n    throw peg$buildSimpleError(message, location);\n  }\n\n  function peg$literalExpectation(text, ignoreCase) {\n    return { type: \"literal\", text: text, ignoreCase: ignoreCase };\n  }\n\n  function peg$classExpectation(parts, inverted, ignoreCase) {\n    return { type: \"class\", parts: parts, inverted: inverted, ignoreCase: ignoreCase };\n  }\n\n  function peg$anyExpectation() {\n    return { type: \"any\" };\n  }\n\n  function peg$endExpectation() {\n    return { type: \"end\" };\n  }\n\n  function peg$otherExpectation(description) {\n    return { type: \"other\", description: description };\n  }\n\n  function peg$computePosDetails(pos) {\n    var details = peg$posDetailsCache[pos];\n    var p;\n\n    if (details) {\n      return details;\n    } else {\n      p = pos - 1;\n      while (!peg$posDetailsCache[p]) {\n        p--;\n      }\n\n      details = peg$posDetailsCache[p];\n      details = {\n        line: details.line,\n        column: details.column\n      };\n\n      while (p < pos) {\n        if (input.charCodeAt(p) === 10) {\n          details.line++;\n          details.column = 1;\n        } else {\n          details.column++;\n        }\n\n        p++;\n      }\n\n      peg$posDetailsCache[pos] = details;\n\n      return details;\n    }\n  }\n\n  function peg$computeLocation(startPos, endPos, offset) {\n    var startPosDetails = peg$computePosDetails(startPos);\n    var endPosDetails = peg$computePosDetails(endPos);\n\n    var res = {\n      source: peg$source,\n      start: {\n        offset: startPos,\n        line: startPosDetails.line,\n        column: startPosDetails.column\n      },\n      end: {\n        offset: endPos,\n        line: endPosDetails.line,\n        column: endPosDetails.column\n      }\n    };\n    if (offset && peg$source && (typeof peg$source.offset === \"function\")) {\n      res.start = peg$source.offset(res.start);\n      res.end = peg$source.offset(res.end);\n    }\n    return res;\n  }\n\n  function peg$fail(expected) {\n    if (peg$currPos < peg$maxFailPos) { return; }\n\n    if (peg$currPos > peg$maxFailPos) {\n      peg$maxFailPos = peg$currPos;\n      peg$maxFailExpected = [];\n    }\n\n    peg$maxFailExpected.push(expected);\n  }\n\n  function peg$buildSimpleError(message, location) {\n    return new peg$SyntaxError(message, null, null, location);\n  }\n\n  function peg$buildStructuredError(expected, found, location) {\n    return new peg$SyntaxError(\n      peg$SyntaxError.buildMessage(expected, found),\n      expected,\n      found,\n      location\n    );\n  }\n\n  function peg$parsetransformList() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsewsp();\n    while (s2 !== peg$FAILED) {\n      s1.push(s2);\n      s2 = peg$parsewsp();\n    }\n    s2 = peg$parsetransforms();\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    s3 = [];\n    s4 = peg$parsewsp();\n    while (s4 !== peg$FAILED) {\n      s3.push(s4);\n      s4 = peg$parsewsp();\n    }\n    peg$savedPos = s0;\n    s0 = peg$f0(s2);\n\n    return s0;\n  }\n\n  function peg$parsetransforms() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$parsetransform();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsecommaWsp();\n      if (s3 !== peg$FAILED) {\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parsecommaWsp();\n        }\n      } else {\n        s2 = peg$FAILED;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsetransforms();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f1(s1, s3);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsetransform();\n    }\n\n    return s0;\n  }\n\n  function peg$parsetransform() {\n    var s0;\n\n    s0 = peg$parsematrix();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsetranslate();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsescale();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parserotate();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parseskewX();\n            if (s0 === peg$FAILED) {\n              s0 = peg$parseskewY();\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsematrix() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13, s14, s15, s16, s17;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 6) === peg$c0) {\n      s1 = peg$c0;\n      peg$currPos += 6;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e0); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWsp();\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parsenumber();\n            if (s7 !== peg$FAILED) {\n              s8 = peg$parsecommaWsp();\n              if (s8 !== peg$FAILED) {\n                s9 = peg$parsenumber();\n                if (s9 !== peg$FAILED) {\n                  s10 = peg$parsecommaWsp();\n                  if (s10 !== peg$FAILED) {\n                    s11 = peg$parsenumber();\n                    if (s11 !== peg$FAILED) {\n                      s12 = peg$parsecommaWsp();\n                      if (s12 !== peg$FAILED) {\n                        s13 = peg$parsenumber();\n                        if (s13 !== peg$FAILED) {\n                          s14 = peg$parsecommaWsp();\n                          if (s14 !== peg$FAILED) {\n                            s15 = peg$parsenumber();\n                            if (s15 !== peg$FAILED) {\n                              s16 = [];\n                              s17 = peg$parsewsp();\n                              while (s17 !== peg$FAILED) {\n                                s16.push(s17);\n                                s17 = peg$parsewsp();\n                              }\n                              if (input.charCodeAt(peg$currPos) === 41) {\n                                s17 = peg$c2;\n                                peg$currPos++;\n                              } else {\n                                s17 = peg$FAILED;\n                                if (peg$silentFails === 0) { peg$fail(peg$e2); }\n                              }\n                              if (s17 !== peg$FAILED) {\n                                peg$savedPos = s0;\n                                s0 = peg$f2(s5, s7, s9, s11, s13, s15);\n                              } else {\n                                peg$currPos = s0;\n                                s0 = peg$FAILED;\n                              }\n                            } else {\n                              peg$currPos = s0;\n                              s0 = peg$FAILED;\n                            }\n                          } else {\n                            peg$currPos = s0;\n                            s0 = peg$FAILED;\n                          }\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsetranslate() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 9) === peg$c3) {\n      s1 = peg$c3;\n      peg$currPos += 9;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e3); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspNumber();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$e2); }\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f3(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsescale() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 5) === peg$c4) {\n      s1 = peg$c4;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e4); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspNumber();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$e2); }\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f4(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parserotate() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 6) === peg$c5) {\n      s1 = peg$c5;\n      peg$currPos += 6;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e5); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspTwoNumbers();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$e2); }\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f5(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseskewX() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 5) === peg$c6) {\n      s1 = peg$c6;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e6); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = [];\n          s7 = peg$parsewsp();\n          while (s7 !== peg$FAILED) {\n            s6.push(s7);\n            s7 = peg$parsewsp();\n          }\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s7 = peg$c2;\n            peg$currPos++;\n          } else {\n            s7 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$e2); }\n          }\n          if (s7 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f6(s5);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseskewY() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 5) === peg$c7) {\n      s1 = peg$c7;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e7); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = [];\n          s7 = peg$parsewsp();\n          while (s7 !== peg$FAILED) {\n            s6.push(s7);\n            s7 = peg$parsewsp();\n          }\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s7 = peg$c2;\n            peg$currPos++;\n          } else {\n            s7 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$e2); }\n          }\n          if (s7 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f7(s5);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsenumber() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    s2 = peg$parsesign();\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    s3 = peg$parsefloatingPointConstant();\n    if (s3 !== peg$FAILED) {\n      s2 = [s2, s3];\n      s1 = s2;\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$f8(s1);\n    }\n    s0 = s1;\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      s2 = peg$parsesign();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = peg$parseintegerConstant();\n      if (s3 !== peg$FAILED) {\n        s2 = [s2, s3];\n        s1 = s2;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$f9(s1);\n      }\n      s0 = s1;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWspNumber() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parsecommaWsp();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsenumber();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f10(s2);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWspTwoNumbers() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = peg$parsecommaWsp();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsenumber();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsecommaWsp();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsenumber();\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f11(s2, s4);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWsp() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsewsp();\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parsewsp();\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsecomma();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = [];\n      s4 = peg$parsewsp();\n      while (s4 !== peg$FAILED) {\n        s3.push(s4);\n        s4 = peg$parsewsp();\n      }\n      s1 = [s1, s2, s3];\n      s0 = s1;\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsecomma();\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parsewsp();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parsewsp();\n        }\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsecomma() {\n    var s0;\n\n    if (input.charCodeAt(peg$currPos) === 44) {\n      s0 = peg$c8;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e8); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseintegerConstant() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    s1 = peg$parsedigitSequence();\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$f12(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsefloatingPointConstant() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parsefractionalConstant();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseexponent();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      peg$savedPos = s0;\n      s0 = peg$f13(s1, s2);\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsedigitSequence();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseexponent();\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f14(s1, s2);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsefractionalConstant() {\n    var s0, s1, s2, s3;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = peg$parsedigitSequence();\n    if (s1 === peg$FAILED) {\n      s1 = null;\n    }\n    if (input.charCodeAt(peg$currPos) === 46) {\n      s2 = peg$c9;\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e10); }\n    }\n    if (s2 !== peg$FAILED) {\n      s3 = peg$parsedigitSequence();\n      if (s3 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f15(s1, s3);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsedigitSequence();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 46) {\n          s2 = peg$c9;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$e10); }\n        }\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f16(s1);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e9); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseexponent() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (peg$r0.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e11); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsesign();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = peg$parsedigitSequence();\n      if (s3 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f17(s2, s3);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsesign() {\n    var s0;\n\n    if (peg$r1.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e12); }\n    }\n\n    return s0;\n  }\n\n  function peg$parsedigitSequence() {\n    var s0, s1;\n\n    s0 = [];\n    s1 = peg$parsedigit();\n    if (s1 !== peg$FAILED) {\n      while (s1 !== peg$FAILED) {\n        s0.push(s1);\n        s1 = peg$parsedigit();\n      }\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsedigit() {\n    var s0;\n\n    if (peg$r2.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e13); }\n    }\n\n    return s0;\n  }\n\n  function peg$parsewsp() {\n    var s0;\n\n    if (peg$r3.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e14); }\n    }\n\n    return s0;\n  }\n\n  peg$result = peg$startRuleFunction();\n\n  if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n    return peg$result;\n  } else {\n    if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n      peg$fail(peg$endExpectation());\n    }\n\n    throw peg$buildStructuredError(\n      peg$maxFailExpected,\n      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,\n      peg$maxFailPos < input.length\n        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)\n        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)\n    );\n  }\n}\n\nexport {\n  peg$SyntaxError as SyntaxError,\n\n  peg$parse as parse\n};\n","export var MODE_IDLE = 'idle';\nexport var MODE_PANNING = 'panning';\nexport var MODE_ZOOMING = 'zooming';\nexport var TOOL_AUTO = 'auto';\nexport var TOOL_NONE = 'none';\nexport var TOOL_PAN = 'pan';\nexport var TOOL_ZOOM_IN = 'zoom-in';\nexport var TOOL_ZOOM_OUT = 'zoom-out';\nexport var POSITION_NONE = 'none';\nexport var POSITION_TOP = 'top';\nexport var POSITION_RIGHT = 'right';\nexport var POSITION_BOTTOM = 'bottom';\nexport var POSITION_LEFT = 'left';\nexport var ACTION_ZOOM = 'zoom';\nexport var ACTION_PAN = 'pan';\nexport var ALIGN_CENTER = 'center';\nexport var ALIGN_LEFT = 'left';\nexport var ALIGN_RIGHT = 'right';\nexport var ALIGN_TOP = 'top';\nexport var ALIGN_BOTTOM = 'bottom';\nexport var ALIGN_COVER = 'cover';\nexport var INITIAL_VALUE = {};","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { MODE_IDLE } from '../constants';\nimport { applyToPoint, fromObject, identity, inverse, scale, transform, translate } from 'transformation-matrix';\nvar VERSION = 3;\nexport var DEFAULT_MODE = MODE_IDLE;\n\n/**\n * Obtain default value\n * @returns {Object}\n */\nexport function getDefaultValue(viewerWidth, viewerHeight, SVGMinX, SVGMinY, SVGWidth, SVGHeight) {\n  var scaleFactorMin = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : null;\n  var scaleFactorMax = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : null;\n  return set({}, _objectSpread(_objectSpread({}, identity()), {}, {\n    version: VERSION,\n    mode: DEFAULT_MODE,\n    focus: false,\n    pinchPointDistance: null,\n    prePinchMode: null,\n    viewerWidth: viewerWidth,\n    viewerHeight: viewerHeight,\n    SVGMinX: SVGMinX,\n    SVGMinY: SVGMinY,\n    SVGWidth: SVGWidth,\n    SVGHeight: SVGHeight,\n    scaleFactorMin: scaleFactorMin,\n    scaleFactorMax: scaleFactorMax,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    miniatureOpen: true,\n    lastAction: null\n  }));\n}\n\n/**\n * Change value\n * @param value\n * @param patch\n * @param action\n * @returns {Object}\n */\nexport function set(value, patch) {\n  var action = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  value = Object.assign({}, value, patch, {\n    lastAction: action\n  });\n  return Object.freeze(value);\n}\n\n/**\n * value valid check\n * @param value\n */\nexport function isValueValid(value) {\n  return value !== null && _typeof(value) === 'object' && value.hasOwnProperty('version') && value.version === VERSION;\n}\n\n/**\n * Export x,y coords relative to SVG\n * @param value\n * @param viewerX\n * @param viewerY\n * @returns {*|{x, y}|{x: number, y: number}}\n */\nexport function getSVGPoint(value, viewerX, viewerY) {\n  var matrix = fromObject(value);\n  var inverseMatrix = inverse(matrix);\n  return applyToPoint(inverseMatrix, {\n    x: viewerX,\n    y: viewerY\n  });\n}\n\n/**\n * Decompose matrix from value\n * @param value\n * @returns {{scaleFactor: number, translationX: number, translationY: number}}\n */\nexport function decompose(value) {\n  var matrix = fromObject(value);\n  return {\n    scaleFactor: matrix.a,\n    translationX: matrix.e,\n    translationY: matrix.f\n  };\n}\n\n/**\n *\n * @param value\n * @param focus\n * @returns {Object}\n */\nexport function setFocus(value, focus) {\n  return set(value, {\n    focus: focus\n  });\n}\n\n/**\n *\n * @param value\n * @param viewerWidth\n * @param viewerHeight\n * @returns {Object}\n */\nexport function setViewerSize(value, viewerWidth, viewerHeight) {\n  return set(value, {\n    viewerWidth: viewerWidth,\n    viewerHeight: viewerHeight\n  });\n}\n\n/**\n *\n * @param value\n * @param SVGMinX\n * @param SVGMinY\n * @param SVGWidth\n * @param SVGHeight\n * @returns {Object}\n */\nexport function setSVGViewBox(value, SVGMinX, SVGMinY, SVGWidth, SVGHeight) {\n  return set(value, {\n    SVGMinX: SVGMinX,\n    SVGMinY: SVGMinY,\n    SVGWidth: SVGWidth,\n    SVGHeight: SVGHeight\n  });\n}\n\n/**\n *\n * @param value\n * @param scaleFactorMin\n * @param scaleFactorMax\n * @returns {Object}\n */\n//TODO rename to setZoomLimits\nexport function setZoomLevels(value, scaleFactorMin, scaleFactorMax) {\n  return set(value, {\n    scaleFactorMin: scaleFactorMin,\n    scaleFactorMax: scaleFactorMax\n  });\n}\n\n/**\n *\n * @param value\n * @param SVGPointX\n * @param SVGPointY\n * @param zoomLevel\n * @returns {Object}\n */\nexport function setPointOnViewerCenter(value, SVGPointX, SVGPointY, zoomLevel) {\n  var viewerWidth = value.viewerWidth,\n    viewerHeight = value.viewerHeight;\n  var matrix = transform(translate(-SVGPointX + viewerWidth / 2, -SVGPointY + viewerHeight / 2),\n  //4\n  translate(SVGPointX, SVGPointY),\n  //3\n  scale(zoomLevel, zoomLevel),\n  //2\n  translate(-SVGPointX, -SVGPointY) //1\n  );\n\n  return set(value, _objectSpread({\n    mode: MODE_IDLE\n  }, matrix));\n}\n\n/**\n *\n * @param value\n * @returns {Object}\n */\nexport function reset(value) {\n  return set(value, _objectSpread({\n    mode: MODE_IDLE\n  }, identity()));\n}\n\n/**\n *\n * @param value\n * @returns {Object}\n */\nexport function resetMode(value) {\n  return set(value, {\n    mode: DEFAULT_MODE,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  });\n}","/**\n * Identity matrix\n * @returns {Matrix} Affine Matrix\n */\nexport function identity () {\n  return {\n    a: 1,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: 1,\n    f: 0\n  }\n}\n","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { decompose } from '../features/common';\nvar ViewerEvent = /*#__PURE__*/function () {\n  function ViewerEvent(originalEvent, value, SVGViewer) {\n    _classCallCheck(this, ViewerEvent);\n    this.originalEvent = originalEvent;\n    this.value = value;\n    this.SVGViewer = SVGViewer;\n  }\n  _createClass(ViewerEvent, [{\n    key: \"scaleFactor\",\n    get: function get() {\n      this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n      return this._cacheDecomposedValue.scaleFactor;\n    }\n  }, {\n    key: \"translationX\",\n    get: function get() {\n      this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n      return this._cacheDecomposedValue.translationX;\n    }\n  }, {\n    key: \"translationY\",\n    get: function get() {\n      this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n      return this._cacheDecomposedValue.translationY;\n    }\n  }, {\n    key: \"preventDefault\",\n    value: function preventDefault() {\n      this.originalEvent.preventDefault();\n    }\n  }, {\n    key: \"stopPropagation\",\n    value: function stopPropagation() {\n      this.originalEvent.stopPropagation();\n    }\n  }]);\n  return ViewerEvent;\n}();\nexport { ViewerEvent as default };","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nimport { ACTION_PAN, MODE_IDLE, MODE_PANNING } from '../constants';\nimport { set, getSVGPoint } from './common';\nimport { fromObject, translate, transform, applyToPoints } from 'transformation-matrix';\n\n/**\n * Atomic pan operation\n * @param value\n * @param SVGDeltaX drag movement\n * @param SVGDeltaY drag movement\n * @param panLimit forces the image to keep at least x pixel inside the viewer\n * @returns {Object}\n */\nexport function pan(value, SVGDeltaX, SVGDeltaY) {\n  var panLimit = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : undefined;\n  var matrix = transform(fromObject(value),\n  //2\n  translate(SVGDeltaX, SVGDeltaY) //1\n  );\n\n  // apply pan limits\n  if (panLimit) {\n    var _applyToPoints = applyToPoints(matrix, [{\n        x: value.SVGMinX + panLimit,\n        y: value.SVGMinY + panLimit\n      }, {\n        x: value.SVGMinX + value.SVGWidth - panLimit,\n        y: value.SVGMinY + value.SVGHeight - panLimit\n      }]),\n      _applyToPoints2 = _slicedToArray(_applyToPoints, 2),\n      _applyToPoints2$ = _applyToPoints2[0],\n      x1 = _applyToPoints2$.x,\n      y1 = _applyToPoints2$.y,\n      _applyToPoints2$2 = _applyToPoints2[1],\n      x2 = _applyToPoints2$2.x,\n      y2 = _applyToPoints2$2.y;\n\n    //x limit\n    var moveX = 0;\n    if (value.viewerWidth - x1 < 0) moveX = value.viewerWidth - x1;else if (x2 < 0) moveX = -x2;\n\n    //y limit\n    var moveY = 0;\n    if (value.viewerHeight - y1 < 0) moveY = value.viewerHeight - y1;else if (y2 < 0) moveY = -y2;\n\n    //apply limits\n    matrix = transform(translate(moveX, moveY), matrix);\n  }\n  return set(value, _objectSpread({\n    mode: MODE_IDLE\n  }, matrix), ACTION_PAN);\n}\n\n/**\n * Start pan operation lifecycle\n * @param value\n * @param viewerX\n * @param viewerY\n * @return {ReadonlyArray<unknown>}\n */\nexport function startPanning(value, viewerX, viewerY) {\n  return set(value, {\n    mode: MODE_PANNING,\n    startX: viewerX,\n    startY: viewerY,\n    endX: viewerX,\n    endY: viewerY\n  }, ACTION_PAN);\n}\n\n/**\n * Continue pan operation lifecycle\n * @param value\n * @param viewerX\n * @param viewerY\n * @param panLimit\n * @return {ReadonlyArray<unknown>}\n */\nexport function updatePanning(value, viewerX, viewerY, panLimit) {\n  if (value.mode !== MODE_PANNING) throw new Error('update pan not allowed in this mode ' + value.mode);\n  var endX = value.endX,\n    endY = value.endY;\n  var start = getSVGPoint(value, endX, endY);\n  var end = getSVGPoint(value, viewerX, viewerY);\n  var deltaX = end.x - start.x;\n  var deltaY = end.y - start.y;\n  var nextValue = pan(value, deltaX, deltaY, panLimit);\n  return set(nextValue, {\n    mode: MODE_PANNING,\n    endX: viewerX,\n    endY: viewerY\n  }, ACTION_PAN);\n}\n\n/**\n * Stop pan operation lifecycle\n * @param value\n * @return {ReadonlyArray<unknown>}\n */\nexport function stopPanning(value) {\n  return set(value, {\n    mode: MODE_IDLE,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_PAN);\n}\n\n/**\n * when pointer is on viewer edge -> pan image\n * @param value\n * @param viewerX\n * @param viewerY\n * @return {ReadonlyArray<any>}\n */\nexport function autoPanIfNeeded(value, viewerX, viewerY) {\n  var deltaX = 0;\n  var deltaY = 0;\n  if (viewerY <= 20) deltaY = 2;\n  if (value.viewerWidth - viewerX <= 20) deltaX = -2;\n  if (value.viewerHeight - viewerY <= 20) deltaY = -2;\n  if (viewerX <= 20) deltaX = 2;\n  deltaX = deltaX / value.d;\n  deltaY = deltaY / value.d;\n  return deltaX === 0 && deltaY === 0 ? value : pan(value, deltaX, deltaY);\n}","export default function calculateBox(start, end) {\n  if (start.x <= end.x && start.y <= end.y) {\n    return {\n      x: start.x,\n      y: start.y,\n      width: end.x - start.x,\n      height: end.y - start.y\n    };\n  } else if (start.x >= end.x && start.y <= end.y) {\n    return {\n      x: end.x,\n      y: start.y,\n      width: start.x - end.x,\n      height: end.y - start.y\n    };\n  } else if (start.x >= end.x && start.y >= end.y) {\n    return {\n      x: end.x,\n      y: end.y,\n      width: start.x - end.x,\n      height: start.y - end.y\n    };\n  } else if (start.x <= end.x && start.y >= end.y) {\n    return {\n      x: start.x,\n      y: end.y,\n      width: end.x - start.x,\n      height: start.y - end.y\n    };\n  }\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { fromObject, scale, transform, translate } from 'transformation-matrix';\nimport { ACTION_ZOOM, MODE_IDLE, MODE_ZOOMING, ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, ALIGN_BOTTOM, ALIGN_COVER } from '../constants';\nimport { decompose, getSVGPoint, set } from './common';\nimport calculateBox from '../utils/calculateBox';\nexport function isZoomLevelGoingOutOfBounds(value, scaleFactor) {\n  var _decompose = decompose(value),\n    curScaleFactor = _decompose.scaleFactor;\n  var lessThanScaleFactorMin = value.scaleFactorMin && curScaleFactor * scaleFactor < value.scaleFactorMin;\n  var moreThanScaleFactorMax = value.scaleFactorMax && curScaleFactor * scaleFactor > value.scaleFactorMax;\n  return lessThanScaleFactorMin && scaleFactor < 1 || moreThanScaleFactorMax && scaleFactor > 1;\n}\nexport function limitZoomLevel(value, matrix) {\n  var scaleLevel = matrix.a;\n  if (value.scaleFactorMin != null) {\n    // limit minimum zoom\n    scaleLevel = Math.max(scaleLevel, value.scaleFactorMin);\n  }\n  if (value.scaleFactorMax != null) {\n    // limit maximum zoom\n    scaleLevel = Math.min(scaleLevel, value.scaleFactorMax);\n  }\n  return set(matrix, {\n    a: scaleLevel,\n    d: scaleLevel\n  });\n}\nexport function zoom(value, SVGPointX, SVGPointY, scaleFactor) {\n  if (isZoomLevelGoingOutOfBounds(value, scaleFactor)) {\n    // Do not change translation and scale of value\n    return value;\n  }\n  var matrix = transform(fromObject(value), translate(SVGPointX, SVGPointY), scale(scaleFactor, scaleFactor), translate(-SVGPointX, -SVGPointY));\n  return set(value, _objectSpread(_objectSpread({\n    mode: MODE_IDLE\n  }, matrix), {}, {\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }), ACTION_ZOOM);\n}\n\n//ENHANCEMENT: add ability to control alignment\n//ENHANCEMENT: add ability to selectively fit image inside viewer\n//ENHANCEMENT: refactor some logic in order to merge with fitToViewer function\nexport function fitSelection(value, selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n  var viewerWidth = value.viewerWidth,\n    viewerHeight = value.viewerHeight;\n  var scaleX = viewerWidth / selectionWidth;\n  var scaleY = viewerHeight / selectionHeight;\n  var scaleLevel = Math.min(scaleX, scaleY);\n  var matrix = transform(scale(scaleLevel, scaleLevel),\n  //2\n  translate(-selectionSVGPointX, -selectionSVGPointY) //1\n  );\n\n  if (isZoomLevelGoingOutOfBounds(value, scaleLevel / value.d)) {\n    // Do not allow scale and translation\n    return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    });\n  }\n  return set(value, _objectSpread(_objectSpread({\n    mode: MODE_IDLE\n  }, limitZoomLevel(value, matrix)), {}, {\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }), ACTION_ZOOM);\n}\nexport function fitToViewer(value) {\n  var SVGAlignX = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ALIGN_LEFT;\n  var SVGAlignY = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : ALIGN_TOP;\n  var viewerWidth = value.viewerWidth,\n    viewerHeight = value.viewerHeight,\n    SVGMinX = value.SVGMinX,\n    SVGMinY = value.SVGMinY,\n    SVGWidth = value.SVGWidth,\n    SVGHeight = value.SVGHeight;\n  var scaleX = viewerWidth / SVGWidth;\n  var scaleY = viewerHeight / SVGHeight;\n  var scaleLevel = Math.min(scaleX, scaleY);\n  var scaleMatrix = scale(scaleLevel, scaleLevel);\n  var translateX = -SVGMinX * scaleX;\n  var translateY = -SVGMinY * scaleY;\n\n  // after fitting, SVG and the viewer will match in width (1) or in height (2) or SVG will cover the container with preserving aspect ratio (0)\n  if (scaleX < scaleY) {\n    var remainderY = viewerHeight - scaleX * SVGHeight;\n\n    //(1) match in width, meaning scaled SVGHeight <= viewerHeight\n    switch (SVGAlignY) {\n      case ALIGN_TOP:\n        translateY = -SVGMinY * scaleLevel;\n        break;\n      case ALIGN_CENTER:\n        translateY = Math.round(remainderY / 2) - SVGMinY * scaleLevel;\n        break;\n      case ALIGN_BOTTOM:\n        translateY = remainderY - SVGMinY * scaleLevel;\n        break;\n      case ALIGN_COVER:\n        scaleMatrix = scale(scaleY, scaleY); // (0) we must now match to short edge, in this case - height\n        var remainderX = viewerWidth - scaleY * SVGWidth; // calculate remainder in the other scale\n\n        translateX = SVGMinX + Math.round(remainderX / 2); // center by the long edge\n        break;\n      default:\n      //no op\n    }\n  } else {\n    var _remainderX = viewerWidth - scaleY * SVGWidth;\n\n    //(2) match in height, meaning scaled SVGWidth <= viewerWidth\n    switch (SVGAlignX) {\n      case ALIGN_LEFT:\n        translateX = -SVGMinX * scaleLevel;\n        break;\n      case ALIGN_CENTER:\n        translateX = Math.round(_remainderX / 2) - SVGMinX * scaleLevel;\n        break;\n      case ALIGN_RIGHT:\n        translateX = _remainderX - SVGMinX * scaleLevel;\n        break;\n      case ALIGN_COVER:\n        scaleMatrix = scale(scaleX, scaleX); // (0) we must now match to short edge, in this case - width\n        var _remainderY = viewerHeight - scaleX * SVGHeight; // calculate remainder in the other scale\n\n        translateY = SVGMinY + Math.round(_remainderY / 2); // center by the long edge\n        break;\n      default:\n      //no op\n    }\n  }\n\n  var translationMatrix = translate(translateX, translateY);\n  var matrix = transform(translationMatrix,\n  //2\n  scaleMatrix //1\n  );\n\n  if (isZoomLevelGoingOutOfBounds(value, scaleLevel / value.d)) {\n    // Do not allow scale and translation\n    return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    });\n  }\n  return set(value, _objectSpread(_objectSpread({\n    mode: MODE_IDLE\n  }, limitZoomLevel(value, matrix)), {}, {\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }), ACTION_ZOOM);\n}\nexport function zoomOnViewerCenter(value, scaleFactor) {\n  var viewerWidth = value.viewerWidth,\n    viewerHeight = value.viewerHeight;\n  var SVGPoint = getSVGPoint(value, viewerWidth / 2, viewerHeight / 2);\n  return zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor);\n}\nexport function startZooming(value, viewerX, viewerY) {\n  return set(value, {\n    mode: MODE_ZOOMING,\n    startX: viewerX,\n    startY: viewerY,\n    endX: viewerX,\n    endY: viewerY\n  });\n}\nexport function updateZooming(value, viewerX, viewerY) {\n  if (value.mode !== MODE_ZOOMING) throw new Error('update selection not allowed in this mode ' + value.mode);\n  return set(value, {\n    endX: viewerX,\n    endY: viewerY\n  });\n}\nexport function stopZooming(value, viewerX, viewerY, scaleFactor) {\n  var TOLERATED_DISTANCE = 7; //minimum distance to choose if area selection or drill down on point\n  var startX = value.startX,\n    startY = value.startY;\n  var start = getSVGPoint(value, startX, startY);\n  var end = getSVGPoint(value, viewerX, viewerY);\n  if (Math.abs(startX - viewerX) > TOLERATED_DISTANCE && Math.abs(startY - viewerY) > TOLERATED_DISTANCE) {\n    var box = calculateBox(start, end);\n    return fitSelection(value, box.x, box.y, box.width, box.height);\n  } else {\n    var SVGPoint = getSVGPoint(value, viewerX, viewerY);\n    return zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor);\n  }\n}","import { MODE_PANNING, MODE_ZOOMING, TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT } from '../constants';\nimport { getSVGPoint, setFocus } from './common';\nimport { autoPanIfNeeded, startPanning, stopPanning, updatePanning } from './pan';\nimport { startZooming, stopZooming, updateZooming, zoom } from './zoom';\nimport mapRange from '../utils/mapRange';\nexport function getMousePosition(event, ViewerDOM) {\n  var _ViewerDOM$getBoundin = ViewerDOM.getBoundingClientRect(),\n    left = _ViewerDOM$getBoundin.left,\n    top = _ViewerDOM$getBoundin.top;\n  var x = event.clientX - Math.round(left);\n  var y = event.clientY - Math.round(top);\n  return {\n    x: x,\n    y: y\n  };\n}\nexport function onMouseDown(event, ViewerDOM, tool, value, props) {\n  var coords = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n  var _ref = coords || getMousePosition(event, ViewerDOM),\n    x = _ref.x,\n    y = _ref.y;\n  var nextValue = value;\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      var SVGPoint = getSVGPoint(value, x, y);\n      nextValue = zoom(value, SVGPoint.x, SVGPoint.y, 1 / props.scaleFactor, props);\n      break;\n    case TOOL_ZOOM_IN:\n      nextValue = startZooming(value, x, y);\n      break;\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      nextValue = startPanning(value, x, y);\n      break;\n    default:\n      return value;\n  }\n  event.preventDefault();\n  return nextValue;\n}\nexport function onMouseMove(event, ViewerDOM, tool, value, props) {\n  var coords = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n  var _ref2 = coords || getMousePosition(event, ViewerDOM),\n    x = _ref2.x,\n    y = _ref2.y;\n  var forceExit = event.buttons === 0; //the mouse exited and reentered into svg\n  var nextValue = value;\n  switch (tool) {\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING) nextValue = forceExit ? stopZooming(value, x, y, props.scaleFactor, props) : updateZooming(value, x, y);\n      break;\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING) nextValue = forceExit ? stopPanning(value) : updatePanning(value, x, y, props.preventPanOutside ? 20 : undefined);\n      break;\n    default:\n      return value;\n  }\n  event.preventDefault();\n  return nextValue;\n}\nexport function onMouseUp(event, ViewerDOM, tool, value, props) {\n  var coords = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n  var _ref3 = coords || getMousePosition(event, ViewerDOM),\n    x = _ref3.x,\n    y = _ref3.y;\n  var nextValue = value;\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      if (value.mode === MODE_ZOOMING) nextValue = stopZooming(value, x, y, 1 / props.scaleFactor, props);\n      break;\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING) nextValue = stopZooming(value, x, y, props.scaleFactor, props);\n      break;\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING) nextValue = stopPanning(value);\n      break;\n    default:\n      return value;\n  }\n  event.preventDefault();\n  return nextValue;\n}\nexport function onDoubleClick(event, ViewerDOM, tool, value, props) {\n  var coords = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n  var _ref4 = coords || getMousePosition(event, ViewerDOM),\n    x = _ref4.x,\n    y = _ref4.y;\n  var nextValue = value;\n  if (tool === TOOL_AUTO && !props.disableDoubleClickZoomWithToolAuto) {\n    var _props$modifierKeys = props.modifierKeys,\n      modifierKeys = _props$modifierKeys === void 0 ? [] : _props$modifierKeys;\n    var SVGPoint = getSVGPoint(value, x, y);\n    var modifierKeysReducer = function modifierKeysReducer(current, modifierKey) {\n      return current || event.getModifierState(modifierKey);\n    };\n    var modifierKeyActive = modifierKeys.reduce(modifierKeysReducer, false);\n    var scaleFactor = modifierKeyActive ? 1 / props.scaleFactor : props.scaleFactor;\n    nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n  }\n  event.preventDefault();\n  return nextValue;\n}\nexport function onWheel(event, ViewerDOM, tool, value, props) {\n  var coords = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n  var _ref5 = coords || getMousePosition(event, ViewerDOM),\n    x = _ref5.x,\n    y = _ref5.y;\n  if (!props.detectWheel) return value;\n  var delta = Math.max(-1, Math.min(1, event.deltaY));\n  var scaleFactor = mapRange(delta, -1, 1, props.scaleFactorOnWheel, 1 / props.scaleFactorOnWheel);\n  var SVGPoint = getSVGPoint(value, x, y);\n  var nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n  event.preventDefault();\n  return nextValue;\n}\nexport function onMouseEnterOrLeave(event, ViewerDOM, tool, value, props) {\n  var coords = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n  var nextValue = setFocus(value, event.type === 'mouseenter');\n  event.preventDefault();\n  return nextValue;\n}\nexport function onInterval(event, ViewerDOM, tool, value, props) {\n  var coords = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n  var x = coords.x,\n    y = coords.y;\n  if (!([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0)) return value;\n  if (!props.detectAutoPan) return value;\n  if (!value.focus) return value;\n  return autoPanIfNeeded(value, x, y);\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nimport ViewerEvent from './viewer-event';\nimport { getMousePosition } from \"../features/interactions\";\nimport { getSVGPoint } from \"../features/common\";\nvar ViewerMouseEvent = /*#__PURE__*/function (_ViewerEvent) {\n  _inherits(ViewerMouseEvent, _ViewerEvent);\n  var _super = _createSuper(ViewerMouseEvent);\n  function ViewerMouseEvent() {\n    _classCallCheck(this, ViewerMouseEvent);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ViewerMouseEvent, [{\n    key: \"point\",\n    get: function get() {\n      if (!this._cachePoint) {\n        var event = this.originalEvent,\n          SVGViewer = this.SVGViewer,\n          value = this.value;\n        var mousePosition = getMousePosition(event, SVGViewer);\n        this._cachePoint = getSVGPoint(value, mousePosition.x, mousePosition.y);\n      }\n      return this._cachePoint;\n    }\n  }, {\n    key: \"x\",\n    get: function get() {\n      return this.point.x;\n    }\n  }, {\n    key: \"y\",\n    get: function get() {\n      return this.point.y;\n    }\n  }]);\n  return ViewerMouseEvent;\n}(ViewerEvent);\nexport { ViewerMouseEvent as default };","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nimport { getSVGPoint } from '../features/common';\nimport ViewerEvent from './viewer-event';\nvar ViewerTouchEvent = /*#__PURE__*/function (_ViewerEvent) {\n  _inherits(ViewerTouchEvent, _ViewerEvent);\n  var _super = _createSuper(ViewerTouchEvent);\n  function ViewerTouchEvent() {\n    _classCallCheck(this, ViewerTouchEvent);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ViewerTouchEvent, [{\n    key: \"points\",\n    get: function get() {\n      if (!this._cachePoints) this._cachePoints = ViewerTouchEvent.touchesToPoints(this.originalEvent.touches, this.SVGViewer, this.value);\n      return this._cachePoints;\n    }\n  }, {\n    key: \"changedPoints\",\n    get: function get() {\n      if (!this._cacheChangedPoints) this._cacheChangedPoints = ViewerTouchEvent.touchesToPoints(this.originalEvent.changedTouches, this.SVGViewer, this.value);\n      return this._cacheChangedPoints;\n    }\n  }], [{\n    key: \"touchesToPoints\",\n    value: function touchesToPoints(touches, SVGViewer, value) {\n      var points = [];\n      for (var i = 0; i < touches.length; i++) {\n        var touch = touches[i];\n        var rect = SVGViewer.getBoundingClientRect();\n        var x = touch.clientX - Math.round(rect.left);\n        var y = touch.clientY - Math.round(rect.top);\n        var point = getSVGPoint(value, x, y);\n        points.push(_objectSpread(_objectSpread({}, point), {}, {\n          identifier: touch.identifier\n        }));\n      }\n      return points;\n    }\n  }]);\n  return ViewerTouchEvent;\n}(ViewerEvent);\nexport { ViewerTouchEvent as default };","export default function parseViewBox(viewBoxString) {\n  // viewBox specs: https://www.w3.org/TR/SVG/coords.html#ViewBoxAttribute\n  return viewBoxString.split(/[ ,]/) // split optional comma\n  .filter(Boolean) // remove empty strings\n  .map(Number); // cast to Number\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { transform, fromObject, translate, scale } from 'transformation-matrix';\nimport { TOOL_PAN, TOOL_AUTO, TOOL_ZOOM_IN, TOOL_ZOOM_OUT, MODE_IDLE, MODE_PANNING, MODE_ZOOMING } from '../constants';\nimport { resetMode, getSVGPoint, set } from './common';\nimport { onMouseDown, onMouseMove, onMouseUp } from './interactions';\nimport { isZoomLevelGoingOutOfBounds, limitZoomLevel } from './zoom';\nfunction getTouchPosition(touch, ViewerDOM) {\n  var _ViewerDOM$getBoundin = ViewerDOM.getBoundingClientRect(),\n    left = _ViewerDOM$getBoundin.left,\n    top = _ViewerDOM$getBoundin.top;\n  var x = touch.clientX - Math.round(left);\n  var y = touch.clientY - Math.round(top);\n  return {\n    x: x,\n    y: y\n  };\n}\nexport function onTouchStart(event, ViewerDOM, tool, value, props) {\n  if (isMultiTouch(event, props)) {\n    return onMultiTouch(event, ViewerDOM, tool, value, props);\n  }\n  if (event.touches.length !== 1) {\n    if ([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0) {\n      return resetMode(value);\n    } else if ([MODE_IDLE].indexOf(value.mode) >= 0) {\n      return value;\n    }\n  }\n  return onSingleTouch(event, ViewerDOM, tool, value, props, onMouseDown);\n}\nexport function onTouchMove(event, ViewerDOM, tool, value, props) {\n  if (isMultiTouch(event, props)) {\n    return onMultiTouch(event, ViewerDOM, tool, value, props);\n  }\n  if (!([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0)) {\n    return value;\n  }\n  return onSingleTouch(event, ViewerDOM, tool, value, props, onMouseMove);\n}\nexport function onTouchEnd(event, ViewerDOM, tool, value, props) {\n  if (!([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0)) {\n    return value;\n  }\n  var nextValue = shouldResetPinchPointDistance(event, value, props) ? set(value, {\n    pinchPointDistance: null\n  }) : value;\n  if (event.touches.length > 0) {\n    return nextValue;\n  }\n  return onSingleTouch(event, ViewerDOM, tool, nextValue, props, onMouseUp);\n}\nexport function onTouchCancel(event, ViewerDOM, tool, value, props) {\n  event.stopPropagation();\n  event.preventDefault();\n  return resetMode(value);\n}\nfunction hasPinchPointDistance(value) {\n  return typeof value.pinchPointDistance === 'number';\n}\nfunction shouldResetPinchPointDistance(event, value, props) {\n  return props.detectPinchGesture && hasPinchPointDistance(value) && event.touches.length < 2;\n}\nfunction isMultiTouch(event, props) {\n  return props.detectPinchGesture && event.touches.length > 1;\n}\nfunction onSingleTouch(event, ViewerDOM, tool, value, props, nextValueFn) {\n  var nextValue = event.touches.length === 0 ? set(value, {\n    mode: value.prePinchMode ? MODE_IDLE : value.mode,\n    prePinchMode: null\n  }) : value;\n  var touch = event.touches.length > 0 ? event.touches[0] : event.changedTouches[0];\n  var touchPosition = getTouchPosition(touch, ViewerDOM);\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n    case TOOL_ZOOM_IN:\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      event.stopPropagation();\n      event.preventDefault();\n      return nextValueFn(event, ViewerDOM, tool, nextValue, props, touchPosition);\n    default:\n      return nextValue;\n  }\n}\nfunction onMultiTouch(event, ViewerDOM, tool, value, props) {\n  var _ViewerDOM$getBoundin2 = ViewerDOM.getBoundingClientRect(),\n    left = _ViewerDOM$getBoundin2.left,\n    top = _ViewerDOM$getBoundin2.top;\n  var x1 = event.touches[0].clientX - Math.round(left);\n  var y1 = event.touches[0].clientY - Math.round(top);\n  var x2 = event.touches[1].clientX - Math.round(left);\n  var y2 = event.touches[1].clientY - Math.round(top);\n  var pinchPointDistance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n  var previousPointDistance = hasPinchPointDistance(value) ? value.pinchPointDistance : pinchPointDistance;\n  var svgPoint = getSVGPoint(value, (x1 + x2) / 2, (y1 + y2) / 2);\n  var distanceFactor = pinchPointDistance / previousPointDistance;\n  if (isZoomLevelGoingOutOfBounds(value, distanceFactor)) {\n    // Do not change translation and scale of value\n    return value;\n  }\n  if (event.cancelable) {\n    event.preventDefault();\n  }\n  var matrix = transform(fromObject(value), translate(svgPoint.x, svgPoint.y), scale(distanceFactor, distanceFactor), translate(-svgPoint.x, -svgPoint.y));\n  return set(value, set(_objectSpread(_objectSpread({\n    mode: MODE_ZOOMING\n  }, limitZoomLevel(value, matrix)), {}, {\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    prePinchMode: value.prePinchMode ? value.prePinchMode : value.mode,\n    pinchPointDistance: pinchPointDistance\n  })));\n}","import { set } from './common';\nexport function openMiniature(value) {\n  return set(value, {\n    miniatureOpen: true\n  });\n}\nexport function closeMiniature(value) {\n  return set(value, {\n    miniatureOpen: false\n  });\n}","//specs: https://developer.mozilla.org/en-US/docs/Web/CSS/cursor\n\nvar needPrefix = function needPrefix(cursor) {\n  return ['zoom-in', 'zoom-out', 'grab', 'grabbing'].indexOf(cursor) > -1;\n};\nvar userAgent = function userAgent() {\n  return navigator.userAgent.toLowerCase();\n};\nvar isFirefox = function isFirefox() {\n  return userAgent().indexOf('firefox') > -1;\n};\nvar isWebkit = function isWebkit() {\n  return userAgent().indexOf('webkit') > -1;\n};\nexport default function (cursor) {\n  if (!needPrefix(cursor)) return cursor;\n  if (isFirefox()) return \"-moz-\".concat(cursor);\n  if (isWebkit()) return \"-webkit-\".concat(cursor);\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nimport React from \"react\";\nimport getDisplayName from \"./getDisplayName\";\nvar uid = 1;\nvar nextUID = function nextUID() {\n  return \"uid\".concat(uid++);\n};\nexport default function RandomUID(WrappedComponent) {\n  var RandomUID = /*#__PURE__*/function (_React$Component) {\n    _inherits(RandomUID, _React$Component);\n    var _super = _createSuper(RandomUID);\n    function RandomUID(props) {\n      var _this;\n      _classCallCheck(this, RandomUID);\n      _this = _super.call(this, props);\n      _this.state = {\n        uid: nextUID()\n      };\n      return _this;\n    }\n    _createClass(RandomUID, [{\n      key: \"render\",\n      value: function render() {\n        return /*#__PURE__*/React.createElement(WrappedComponent, _extends({\n          _uid: this.state.uid\n        }, this.props));\n      }\n    }]);\n    return RandomUID;\n  }(React.Component);\n  RandomUID.displayName = \"RandomUID(\".concat(getDisplayName(WrappedComponent), \")\");\n  return RandomUID;\n}","//https://facebook.github.io/react/docs/higher-order-components.html#convention-wrap-the-display-name-for-easy-debugging\nexport default function getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT } from '../constants';\nimport RandomUID from \"../utils/RandomUID\";\nvar prefixID = 'react-svg-pan-zoom_border_gradient';\nfunction BorderGradient(_ref) {\n  var direction = _ref.direction,\n    width = _ref.width,\n    height = _ref.height,\n    _uid = _ref._uid;\n  var transform;\n  switch (direction) {\n    case POSITION_TOP:\n      transform = \"translate(\".concat(width, \", 0) rotate(90)\");\n      break;\n    case POSITION_RIGHT:\n      transform = \"translate(\".concat(width, \", \").concat(height, \") rotate(180)\");\n      break;\n    case POSITION_BOTTOM:\n      transform = \"translate(0, \".concat(height, \") rotate(270)\");\n      break;\n    case POSITION_LEFT:\n    default:\n      transform = \" \";\n      break;\n  }\n  var gradientID = \"\".concat(prefixID, \"_gradient_\").concat(_uid);\n  var maskID = \"\".concat(prefixID, \"_mask_\").concat(_uid);\n  return /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: gradientID,\n    x1: \"0%\",\n    y1: \"0%\",\n    x2: \"100%\",\n    y2: \"0%\",\n    spreadMethod: \"pad\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0%\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.8\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"100%\",\n    stopColor: \"#000\",\n    stopOpacity: \"0.5\"\n  })), /*#__PURE__*/React.createElement(\"mask\", {\n    id: maskID,\n    x: \"0\",\n    y: \"0\",\n    width: \"20\",\n    height: Math.max(width, height)\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0\",\n    y: \"0\",\n    width: \"20\",\n    height: Math.max(width, height),\n    style: {\n      stroke: \"none\",\n      fill: \"url(#\".concat(gradientID, \")\")\n    }\n  }))), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0\",\n    y: \"0\",\n    width: \"20\",\n    height: Math.max(width, height),\n    style: {\n      stroke: \"none\",\n      fill: \"#000\",\n      mask: \"url(#\".concat(maskID, \")\")\n    },\n    transform: transform\n  }));\n}\nBorderGradient.propTypes = {\n  direction: PropTypes.oneOf([POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]).isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired\n};\nexport default RandomUID(BorderGradient);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport calculateBox from '../utils/calculateBox';\nexport default function Selection(_ref) {\n  var startX = _ref.startX,\n    startY = _ref.startY,\n    endX = _ref.endX,\n    endY = _ref.endY;\n  if (!startX || !startY || !endX || !endY) return null;\n  var box = calculateBox({\n    x: startX,\n    y: startY\n  }, {\n    x: endX,\n    y: endY\n  });\n  return /*#__PURE__*/React.createElement(\"rect\", {\n    stroke: \"#969FFF\",\n    strokeOpacity: 0.7,\n    fill: \"#F3F4FF\",\n    fillOpacity: 0.7,\n    x: box.x,\n    y: box.y,\n    width: box.width,\n    height: box.height,\n    style: {\n      pointerEvents: \"none\"\n    }\n  });\n}\nSelection.propTypes = {\n  startX: PropTypes.number,\n  startY: PropTypes.number,\n  endX: PropTypes.number,\n  endY: PropTypes.number\n};","import React from 'react';\n\n//credits https://materialdesignicons.com/icon/cursor-default-outline\n\nexport default function IconCursor() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    width: 24,\n    height: 24,\n    stroke: \"currentColor\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.07,14.27C10.57,14.03 11.16,14.25 11.4,14.75L13.7,19.74L15.5,18.89L13.19,13.91C12.95,13.41 13.17,12.81 13.67,12.58L13.95,12.5L16.25,12.05L8,5.12V15.9L9.82,14.43L10.07,14.27M13.64,21.97C13.14,22.21 12.54,22 12.31,21.5L10.13,16.76L7.62,18.78C7.45,18.92 7.24,19 7,19A1,1 0 0,1 6,18V3A1,1 0 0,1 7,2C7.24,2 7.47,2.09 7.64,2.23L7.65,2.22L19.14,11.86C19.57,12.22 19.62,12.85 19.27,13.27C19.12,13.45 18.91,13.57 18.7,13.61L15.54,14.23L17.74,18.96C18,19.46 17.76,20.05 17.26,20.28L13.64,21.97Z\"\n  }));\n}","import React from 'react';\n\n//https://materialdesignicons.com/icon/cursor-move\n\nexport default function IconPan() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    width: 24,\n    height: 24,\n    stroke: \"currentColor\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z\"\n  }));\n}","import React from 'react';\n\n//https://material.io/icons/#ic_zoom_in\n\nexport default function IconZoomIn() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    width: 24,\n    height: 24,\n    stroke: \"currentColor\"\n  }, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"\n  })));\n}","import React from 'react';\n\n//https://material.io/icons/#ic_zoom_out\n\nexport default function IconZoomOut() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    width: 24,\n    height: 24,\n    stroke: \"currentColor\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\"\n  }));\n}","import React from 'react';\n\n//credits https://materialdesignicons.com/icon/cursor-default-outline\n\nexport default function IconFit() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    width: 24,\n    height: 24,\n    stroke: \"currentColor\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z\"\n  }));\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { POSITION_TOP, POSITION_BOTTOM } from '../constants';\nvar ToolbarButton = /*#__PURE__*/function (_React$Component) {\n  _inherits(ToolbarButton, _React$Component);\n  var _super = _createSuper(ToolbarButton);\n  function ToolbarButton(props) {\n    var _this;\n    _classCallCheck(this, ToolbarButton);\n    _this = _super.call(this, props);\n    _this.state = {\n      hover: false\n    };\n    return _this;\n  }\n  _createClass(ToolbarButton, [{\n    key: \"change\",\n    value: function change(event) {\n      event.preventDefault();\n      event.stopPropagation();\n      switch (event.type) {\n        case 'mouseenter':\n        case 'touchstart':\n          this.setState({\n            hover: true\n          });\n          break;\n        case 'mouseleave':\n        case 'touchend':\n        case 'touchcancel':\n          this.setState({\n            hover: false\n          });\n          break;\n        default:\n        //noop\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var style = {\n        display: \"block\",\n        width: \"24px\",\n        height: \"24px\",\n        margin: [POSITION_TOP, POSITION_BOTTOM].indexOf(this.props.toolbarPosition) >= 0 ? \"2px 1px\" : \"1px 2px\",\n        color: this.props.active || this.state.hover ? this.props.activeColor : '#FFF',\n        transition: \"color 200ms ease\",\n        background: \"none\",\n        padding: \"0px\",\n        border: \"0px\",\n        outline: \"0px\",\n        cursor: \"pointer\"\n      };\n      return /*#__PURE__*/React.createElement(\"button\", {\n        onMouseEnter: function onMouseEnter(e) {\n          return _this2.change(e);\n        },\n        onMouseLeave: function onMouseLeave(e) {\n          return _this2.change(e);\n        },\n        onTouchStart: function onTouchStart(e) {\n          _this2.change(e);\n          _this2.props.onClick(e);\n        },\n        onTouchEnd: function onTouchEnd(e) {\n          return _this2.change(e);\n        },\n        onTouchCancel: function onTouchCancel(e) {\n          return _this2.change(e);\n        },\n        onClick: this.props.onClick,\n        style: style,\n        title: this.props.title,\n        name: this.props.name,\n        type: \"button\"\n      }, this.props.children);\n    }\n  }]);\n  return ToolbarButton;\n}(React.Component);\nexport { ToolbarButton as default };\nToolbarButton.propTypes = {\n  title: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  toolbarPosition: PropTypes.string.isRequired,\n  activeColor: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  active: PropTypes.bool.isRequired\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT, POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT, ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, ALIGN_BOTTOM } from '../constants';\nimport { fitToViewer } from '../features/zoom';\nimport IconCursor from './icon-cursor';\nimport IconPan from './icon-pan';\nimport IconZoomIn from './icon-zoom-in';\nimport IconZoomOut from './icon-zoom-out';\nimport IconFit from './icon-fit';\nimport ToolbarButton from './toolbar-button';\nexport default function Toolbar(_ref) {\n  var tool = _ref.tool,\n    value = _ref.value,\n    onChangeValue = _ref.onChangeValue,\n    onChangeTool = _ref.onChangeTool,\n    activeToolColor = _ref.activeToolColor,\n    position = _ref.position,\n    SVGAlignX = _ref.SVGAlignX,\n    SVGAlignY = _ref.SVGAlignY;\n  var handleChangeTool = function handleChangeTool(event, tool) {\n    onChangeTool(tool);\n    event.stopPropagation();\n    event.preventDefault();\n  };\n  var handleFit = function handleFit(event) {\n    onChangeValue(fitToViewer(value, SVGAlignX, SVGAlignY));\n    event.stopPropagation();\n    event.preventDefault();\n  };\n  var isHorizontal = [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0;\n  var style = {\n    //position\n    position: \"absolute\",\n    transform: [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0 ? \"translate(-50%, 0px)\" : \"none\",\n    top: [POSITION_LEFT, POSITION_RIGHT, POSITION_TOP].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n    left: [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0 ? \"50%\" : POSITION_LEFT === position ? \"5px\" : \"unset\",\n    right: [POSITION_RIGHT].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n    bottom: [POSITION_BOTTOM].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n    //inner styling\n    backgroundColor: \"rgba(19, 20, 22, 0.90)\",\n    borderRadius: \"2px\",\n    display: \"flex\",\n    flexDirection: isHorizontal ? \"row\" : \"column\",\n    padding: isHorizontal ? \"1px 2px\" : \"2px 1px\"\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: style,\n    role: \"toolbar\"\n  }, /*#__PURE__*/React.createElement(ToolbarButton, {\n    toolbarPosition: position,\n    active: tool === TOOL_NONE,\n    activeColor: activeToolColor,\n    name: \"unselect-tools\",\n    title: \"Selection\",\n    onClick: function onClick(event) {\n      return handleChangeTool(event, TOOL_NONE);\n    }\n  }, /*#__PURE__*/React.createElement(IconCursor, null)), /*#__PURE__*/React.createElement(ToolbarButton, {\n    toolbarPosition: position,\n    active: tool === TOOL_PAN,\n    activeColor: activeToolColor,\n    name: \"select-tool-pan\",\n    title: \"Pan\",\n    onClick: function onClick(event) {\n      return handleChangeTool(event, TOOL_PAN);\n    }\n  }, /*#__PURE__*/React.createElement(IconPan, null)), /*#__PURE__*/React.createElement(ToolbarButton, {\n    toolbarPosition: position,\n    active: tool === TOOL_ZOOM_IN,\n    activeColor: activeToolColor,\n    name: \"select-tool-zoom-in\",\n    title: \"Zoom in\",\n    onClick: function onClick(event) {\n      return handleChangeTool(event, TOOL_ZOOM_IN);\n    }\n  }, /*#__PURE__*/React.createElement(IconZoomIn, null)), /*#__PURE__*/React.createElement(ToolbarButton, {\n    toolbarPosition: position,\n    active: tool === TOOL_ZOOM_OUT,\n    activeColor: activeToolColor,\n    name: \"select-tool-zoom-out\",\n    title: \"Zoom out\",\n    onClick: function onClick(event) {\n      return handleChangeTool(event, TOOL_ZOOM_OUT);\n    }\n  }, /*#__PURE__*/React.createElement(IconZoomOut, null)), /*#__PURE__*/React.createElement(ToolbarButton, {\n    toolbarPosition: position,\n    active: false,\n    activeColor: activeToolColor,\n    name: \"fit-to-viewer\",\n    title: \"Fit to viewer\",\n    onClick: function onClick(event) {\n      return handleFit(event);\n    }\n  }, /*#__PURE__*/React.createElement(IconFit, null)));\n}\nToolbar.propTypes = {\n  tool: PropTypes.string.isRequired,\n  onChangeTool: PropTypes.func.isRequired,\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  //customizations\n  position: PropTypes.oneOf([POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n  SVGAlignX: PropTypes.oneOf([ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT]),\n  SVGAlignY: PropTypes.oneOf([ALIGN_CENTER, ALIGN_TOP, ALIGN_BOTTOM]),\n  activeToolColor: PropTypes.string\n};\nToolbar.defaultProps = {\n  position: POSITION_RIGHT,\n  SVGAlignX: ALIGN_LEFT,\n  SVGAlignY: ALIGN_TOP,\n  activeToolColor: '#1CA6FC'\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { POSITION_RIGHT, POSITION_LEFT } from '../constants';\n\n//credits https://materialdesignicons.com/icon/chevron-up\n\nexport default function IconArrow(_ref) {\n  var open = _ref.open,\n    position = _ref.position;\n  var transform = 0;\n  switch (position) {\n    case POSITION_LEFT:\n      transform = open ? \"rotate(225, 12, 13)\" : \"rotate(45, 12, 13)\";\n      break;\n    case POSITION_RIGHT:\n      transform = transform = open ? \"rotate(135, 12, 13)\" : \"rotate(-45, 12, 13)\";\n      break;\n    default:\n    //no op\n  }\n\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    width: 24,\n    height: 24,\n    stroke: \"currentColor\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    transform: transform\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#000000\",\n    d: \"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z\"\n  })));\n}\nIconArrow.propTypes = {\n  open: PropTypes.bool.isRequired,\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired\n};","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { openMiniature, closeMiniature } from '../features/miniature';\nimport IconArrow from './icon-arrow';\nimport { POSITION_RIGHT, POSITION_LEFT } from '../constants';\nexport default function MiniatureToggleButton(_ref) {\n  var _style;\n  var value = _ref.value,\n    onChangeValue = _ref.onChangeValue,\n    position = _ref.position;\n  var style = (_style = {\n    width: \"24px\",\n    height: \"24px\",\n    display: \"block\",\n    position: \"absolute\",\n    bottom: 0\n  }, _defineProperty(_style, position === POSITION_LEFT ? 'left' : 'right', '0px'), _defineProperty(_style, \"background\", \"rgba(19, 20, 22, 0.901961)\"), _defineProperty(_style, \"border\", 0), _defineProperty(_style, \"padding\", 0), _defineProperty(_style, \"outline\", 0), _defineProperty(_style, \"color\", \"#fff\"), _style);\n  var action = value.miniatureOpen ? closeMiniature : openMiniature;\n  return /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    style: style,\n    onClick: function onClick() {\n      return onChangeValue(action(value));\n    }\n  }, /*#__PURE__*/React.createElement(IconArrow, {\n    open: value.miniatureOpen,\n    position: position\n  }));\n}\nMiniatureToggleButton.propTypes = {\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport RandomUID from \"../utils/RandomUID\";\nvar prefixID = 'react-svg-pan-zoom_miniature';\nfunction MiniatureMask(_ref) {\n  var SVGMinX = _ref.SVGMinX,\n    SVGMinY = _ref.SVGMinY,\n    SVGWidth = _ref.SVGWidth,\n    SVGHeight = _ref.SVGHeight,\n    x1 = _ref.x1,\n    y1 = _ref.y1,\n    x2 = _ref.x2,\n    y2 = _ref.y2,\n    zoomToFit = _ref.zoomToFit,\n    _uid = _ref._uid;\n  var maskID = \"\".concat(prefixID, \"_mask_\").concat(_uid);\n  return /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"mask\", {\n    id: maskID\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: SVGMinX,\n    y: SVGMinY,\n    width: SVGWidth,\n    height: SVGHeight,\n    fill: \"#ffffff\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: x1,\n    y: y1,\n    width: x2 - x1,\n    height: y2 - y1\n  }))), /*#__PURE__*/React.createElement(\"rect\", {\n    x: SVGMinX,\n    y: SVGMinY,\n    width: SVGWidth,\n    height: SVGHeight,\n    style: {\n      stroke: \"none\",\n      fill: \"#000\",\n      mask: \"url(#\".concat(maskID, \")\"),\n      opacity: 0.4\n    }\n  }));\n}\nMiniatureMask.propTypes = {\n  SVGWidth: PropTypes.number.isRequired,\n  SVGHeight: PropTypes.number.isRequired,\n  SVGMinX: PropTypes.number.isRequired,\n  SVGMinY: PropTypes.number.isRequired,\n  x1: PropTypes.number.isRequired,\n  y1: PropTypes.number.isRequired,\n  x2: PropTypes.number.isRequired,\n  y2: PropTypes.number.isRequired,\n  zoomToFit: PropTypes.number.isRequired\n};\nexport default RandomUID(MiniatureMask);","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { POSITION_LEFT, POSITION_RIGHT } from '../constants';\nimport { applyToPoints, inverse } from 'transformation-matrix';\nimport MiniatureToggleButton from './miniature-toggle-button';\nimport MiniatureMask from './miniature-mask';\nexport default function Miniature(props) {\n  var _style;\n  var value = props.value,\n    onChangeValue = props.onChangeValue,\n    children = props.children,\n    position = props.position,\n    background = props.background,\n    SVGBackground = props.SVGBackground,\n    miniatureWidth = props.width,\n    miniatureHeight = props.height;\n  var SVGMinX = value.SVGMinX,\n    SVGMinY = value.SVGMinY,\n    SVGWidth = value.SVGWidth,\n    SVGHeight = value.SVGHeight,\n    viewerWidth = value.viewerWidth,\n    viewerHeight = value.viewerHeight;\n  var ratio = SVGHeight / SVGWidth;\n  var zoomToFit = ratio >= 1 ? miniatureHeight / SVGHeight : miniatureWidth / SVGWidth;\n  var _applyToPoints = applyToPoints(inverse(value), [{\n      x: 0,\n      y: 0\n    }, {\n      x: viewerWidth,\n      y: viewerHeight\n    }]),\n    _applyToPoints2 = _slicedToArray(_applyToPoints, 2),\n    _applyToPoints2$ = _applyToPoints2[0],\n    x1 = _applyToPoints2$.x,\n    y1 = _applyToPoints2$.y,\n    _applyToPoints2$2 = _applyToPoints2[1],\n    x2 = _applyToPoints2$2.x,\n    y2 = _applyToPoints2$2.y;\n  var width, height;\n  if (value.miniatureOpen) {\n    width = miniatureWidth;\n    height = miniatureHeight;\n  } else {\n    width = 24;\n    height = 24;\n  }\n  var style = (_style = {\n    position: \"absolute\",\n    overflow: \"hidden\",\n    outline: \"1px solid rgba(19, 20, 22, 0.90)\",\n    transition: \"width 200ms ease, height 200ms ease, bottom 200ms ease\",\n    width: width + \"px\",\n    height: height + \"px\",\n    bottom: \"6px\"\n  }, _defineProperty(_style, position === POSITION_LEFT ? 'left' : 'right', \"6px\"), _defineProperty(_style, \"background\", background), _style);\n  var centerTranslation = ratio >= 1 ? \"translate(\".concat((miniatureWidth - SVGWidth * zoomToFit) / 2 - SVGMinX * zoomToFit, \", \").concat(-SVGMinY * zoomToFit, \")\") : \"translate(\".concat(-SVGMinX * zoomToFit, \", \").concat((miniatureHeight - SVGHeight * zoomToFit) / 2 - SVGMinY * zoomToFit, \")\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    role: \"navigation\",\n    style: style\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: miniatureWidth,\n    height: miniatureHeight,\n    style: {\n      pointerEvents: \"none\"\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    transform: centerTranslation\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"scale(\".concat(zoomToFit, \", \").concat(zoomToFit, \")\")\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    fill: SVGBackground,\n    x: SVGMinX,\n    y: SVGMinY,\n    width: SVGWidth,\n    height: SVGHeight\n  }), children, /*#__PURE__*/React.createElement(MiniatureMask, {\n    SVGWidth: SVGWidth,\n    SVGHeight: SVGHeight,\n    SVGMinX: SVGMinX,\n    SVGMinY: SVGMinY,\n    x1: x1,\n    y1: y1,\n    x2: x2,\n    y2: y2,\n    zoomToFit: zoomToFit\n  })))), /*#__PURE__*/React.createElement(MiniatureToggleButton, {\n    value: value,\n    onChangeValue: onChangeValue,\n    position: position\n  }));\n}\nMiniature.propTypes = {\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  SVGBackground: PropTypes.string.isRequired,\n  //customizations\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]),\n  background: PropTypes.string.isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired\n};\nMiniature.defaultProps = {\n  position: POSITION_LEFT,\n  background: \"#616264\",\n  width: 100,\n  height: 80\n};","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { toSVG } from 'transformation-matrix';\n//events\nimport eventFactory from './events/event-factory';\n//features\nimport { pan as _pan } from './features/pan';\nimport { getDefaultValue, isValueValid, reset as _reset, setPointOnViewerCenter as _setPointOnViewerCenter, setSVGViewBox, setViewerSize, setZoomLevels } from './features/common';\nimport { onDoubleClick as _onDoubleClick, onInterval, onMouseDown as _onMouseDown, onMouseEnterOrLeave, onMouseMove as _onMouseMove, onMouseUp as _onMouseUp, onWheel as _onWheel } from './features/interactions';\nimport parseViewBox from './utils/parseViewBox';\nimport { onTouchCancel as _onTouchCancel, onTouchEnd as _onTouchEnd, onTouchMove as _onTouchMove, onTouchStart as _onTouchStart } from './features/interactions-touch';\nimport { fitSelection as _fitSelection, fitToViewer as _fitToViewer, zoom as _zoom, zoomOnViewerCenter as _zoomOnViewerCenter } from './features/zoom';\nimport { closeMiniature as _closeMiniature, openMiniature as _openMiniature } from './features/miniature';\n//ui\nimport cursorPolyfill from './ui/cursor-polyfill';\nimport BorderGradient from './ui/border-gradient';\nimport Selection from './ui/selection';\nimport Toolbar from './ui-toolbar/toolbar';\nimport detectTouch from './ui/detect-touch';\nimport Miniature from './ui-miniature/miniature';\nimport { ACTION_PAN, ACTION_ZOOM, ALIGN_BOTTOM, ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, MODE_IDLE, MODE_PANNING, MODE_ZOOMING, POSITION_BOTTOM, POSITION_LEFT, POSITION_NONE, POSITION_RIGHT, POSITION_TOP, TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT } from './constants';\nimport { printMigrationTipsRelatedToProps } from \"./migration-tips\";\nvar ReactSVGPanZoom = /*#__PURE__*/function (_React$Component) {\n  _inherits(ReactSVGPanZoom, _React$Component);\n  var _super = _createSuper(ReactSVGPanZoom);\n  function ReactSVGPanZoom(props, context) {\n    var _this;\n    _classCallCheck(this, ReactSVGPanZoom);\n    var viewerWidth = props.width,\n      viewerHeight = props.height,\n      scaleFactorMin = props.scaleFactorMin,\n      scaleFactorMax = props.scaleFactorMax,\n      children = props.children;\n    var SVGViewBox = children.props.viewBox;\n    var defaultValue;\n    if (SVGViewBox) {\n      var _parseViewBox = parseViewBox(SVGViewBox),\n        _parseViewBox2 = _slicedToArray(_parseViewBox, 4),\n        SVGMinX = _parseViewBox2[0],\n        SVGMinY = _parseViewBox2[1],\n        SVGWidth = _parseViewBox2[2],\n        SVGHeight = _parseViewBox2[3];\n      defaultValue = getDefaultValue(viewerWidth, viewerHeight, SVGMinX, SVGMinY, SVGWidth, SVGHeight, scaleFactorMin, scaleFactorMax);\n    } else {\n      var _children$props = children.props,\n        _SVGWidth = _children$props.width,\n        _SVGHeight = _children$props.height;\n      defaultValue = getDefaultValue(viewerWidth, viewerHeight, 0, 0, _SVGWidth, _SVGHeight, scaleFactorMin, scaleFactorMax);\n    }\n    _this = _super.call(this, props, context);\n    _this.ViewerDOM = null;\n    _this.state = {\n      pointerX: null,\n      pointerY: null,\n      defaultValue: defaultValue\n    };\n    _this.autoPanLoop = _this.autoPanLoop.bind(_assertThisInitialized(_this));\n    _this.onWheel = _this.onWheel.bind(_assertThisInitialized(_this));\n    if (process.env.NODE_ENV !== 'production') {\n      printMigrationTipsRelatedToProps(props);\n    }\n    return _this;\n  }\n\n  /** React hooks **/\n  _createClass(ReactSVGPanZoom, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var value = this.getValue();\n      var props = this.props;\n      var nextValue = value;\n      var needUpdate = false;\n      if (process.env.NODE_ENV !== 'production') {\n        printMigrationTipsRelatedToProps(props);\n      }\n\n      // This block checks the size of the SVG\n      var SVGViewBox = props.children.props.viewBox;\n      if (SVGViewBox) {\n        // if the viewBox prop is specified\n        var _parseViewBox3 = parseViewBox(SVGViewBox),\n          _parseViewBox4 = _slicedToArray(_parseViewBox3, 4),\n          x = _parseViewBox4[0],\n          y = _parseViewBox4[1],\n          width = _parseViewBox4[2],\n          height = _parseViewBox4[3];\n        if (value.SVGMinX !== x || value.SVGMinY !== y || value.SVGWidth !== width || value.SVGHeight !== height) {\n          nextValue = setSVGViewBox(nextValue, x, y, width, height);\n          needUpdate = true;\n        }\n      } else {\n        // if the width and height props are specified\n        var _props$children$props = props.children.props,\n          SVGWidth = _props$children$props.width,\n          SVGHeight = _props$children$props.height;\n        if (value.SVGWidth !== SVGWidth || value.SVGHeight !== SVGHeight) {\n          nextValue = setSVGViewBox(nextValue, 0, 0, SVGWidth, SVGHeight);\n          needUpdate = true;\n        }\n      }\n\n      // This block checks the size of the viewer\n      if (prevProps.width !== props.width || prevProps.height !== props.height) {\n        nextValue = setViewerSize(nextValue, props.width, props.height);\n        needUpdate = true;\n      }\n\n      // This blocks checks the scale factors\n      if (prevProps.scaleFactorMin !== props.scaleFactorMin || prevProps.scaleFactorMax !== props.scaleFactorMax) {\n        nextValue = setZoomLevels(nextValue, props.scaleFactorMin, props.scaleFactorMax);\n        needUpdate = true;\n      }\n      if (needUpdate) {\n        this.setValue(nextValue);\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.autoPanIsRunning = true;\n      requestAnimationFrame(this.autoPanLoop);\n      this.ViewerDOM.addEventListener('wheel', this.onWheel, false);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.autoPanIsRunning = false;\n      this.ViewerDOM.removeEventListener('wheel', this.onWheel);\n    }\n\n    /** ReactSVGPanZoom handlers **/\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      if (isValueValid(this.props.value)) return this.props.value;\n      return this.state.defaultValue;\n    }\n  }, {\n    key: \"getTool\",\n    value: function getTool() {\n      if (this.props.tool) return this.props.tool;\n      return TOOL_NONE;\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(nextValue) {\n      var _this$props = this.props,\n        onChangeValue = _this$props.onChangeValue,\n        onZoom = _this$props.onZoom,\n        onPan = _this$props.onPan;\n      if (onChangeValue) onChangeValue(nextValue);\n      if (nextValue.lastAction) {\n        if (onZoom && nextValue.lastAction === ACTION_ZOOM) onZoom(nextValue);\n        if (onPan && nextValue.lastAction === ACTION_PAN) onPan(nextValue);\n      }\n    }\n\n    /** ReactSVGPanZoom methods **/\n  }, {\n    key: \"pan\",\n    value: function pan(SVGDeltaX, SVGDeltaY) {\n      var nextValue = _pan(this.getValue(), SVGDeltaX, SVGDeltaY);\n      this.setValue(nextValue);\n    }\n  }, {\n    key: \"zoom\",\n    value: function zoom(SVGPointX, SVGPointY, scaleFactor) {\n      var nextValue = _zoom(this.getValue(), SVGPointX, SVGPointY, scaleFactor);\n      this.setValue(nextValue);\n    }\n  }, {\n    key: \"fitSelection\",\n    value: function fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n      var nextValue = _fitSelection(this.getValue(), selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight);\n      this.setValue(nextValue);\n    }\n  }, {\n    key: \"fitToViewer\",\n    value: function fitToViewer() {\n      var SVGAlignX = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ALIGN_LEFT;\n      var SVGAlignY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ALIGN_TOP;\n      var nextValue = _fitToViewer(this.getValue(), SVGAlignX, SVGAlignY);\n      this.setValue(nextValue);\n    }\n  }, {\n    key: \"zoomOnViewerCenter\",\n    value: function zoomOnViewerCenter(scaleFactor) {\n      var nextValue = _zoomOnViewerCenter(this.getValue(), scaleFactor);\n      this.setValue(nextValue);\n    }\n  }, {\n    key: \"setPointOnViewerCenter\",\n    value: function setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel) {\n      var nextValue = _setPointOnViewerCenter(this.getValue(), SVGPointX, SVGPointY, zoomLevel);\n      this.setValue(nextValue);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var nextValue = _reset(this.getValue());\n      this.setValue(nextValue);\n    }\n  }, {\n    key: \"openMiniature\",\n    value: function openMiniature() {\n      var nextValue = _openMiniature(this.getValue());\n      this.setValue(nextValue);\n    }\n  }, {\n    key: \"closeMiniature\",\n    value: function closeMiniature() {\n      var nextValue = _closeMiniature(this.getValue());\n      this.setValue(nextValue);\n    }\n\n    /** ReactSVGPanZoom internals **/\n  }, {\n    key: \"handleViewerEvent\",\n    value: function handleViewerEvent(event) {\n      var props = this.props,\n        ViewerDOM = this.ViewerDOM;\n      if (!([TOOL_NONE, TOOL_AUTO].indexOf(this.getTool()) >= 0)) return;\n      if (event.target === ViewerDOM) return;\n      var eventsHandler = {\n        click: props.onClick,\n        dblclick: props.onDoubleClick,\n        mousemove: props.onMouseMove,\n        mouseup: props.onMouseUp,\n        mousedown: props.onMouseDown,\n        touchstart: props.onTouchStart,\n        touchmove: props.onTouchMove,\n        touchend: props.onTouchEnd,\n        touchcancel: props.onTouchCancel\n      };\n      var onEventHandler = eventsHandler[event.type];\n      if (!onEventHandler) return;\n      onEventHandler(eventFactory(event, props.value, ViewerDOM));\n    }\n  }, {\n    key: \"autoPanLoop\",\n    value: function autoPanLoop() {\n      var coords = {\n        x: this.state.pointerX,\n        y: this.state.pointerY\n      };\n      var nextValue = onInterval(null, this.ViewerDOM, this.getTool(), this.getValue(), this.props, coords);\n      if (this.getValue() !== nextValue) {\n        this.setValue(nextValue);\n      }\n      if (this.autoPanIsRunning) {\n        requestAnimationFrame(this.autoPanLoop);\n      }\n    }\n  }, {\n    key: \"onWheel\",\n    value: function onWheel(event) {\n      var nextValue = _onWheel(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n      if (this.getValue() !== nextValue) this.setValue(nextValue);\n    }\n\n    /** React renderer **/\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var props = this.props,\n        _this$state = this.state,\n        pointerX = _this$state.pointerX,\n        pointerY = _this$state.pointerY;\n      var tool = this.getTool();\n      var value = this.getValue();\n      var _props$customToolbar = props.customToolbar,\n        CustomToolbar = _props$customToolbar === void 0 ? Toolbar : _props$customToolbar,\n        _props$customMiniatur = props.customMiniature,\n        CustomMiniature = _props$customMiniatur === void 0 ? Miniature : _props$customMiniatur;\n      var panningWithToolAuto = tool === TOOL_AUTO && value.mode === MODE_PANNING && value.startX !== value.endX && value.startY !== value.endY;\n      var cursor;\n      if (tool === TOOL_PAN) cursor = cursorPolyfill(value.mode === MODE_PANNING ? 'grabbing' : 'grab');\n      if (tool === TOOL_ZOOM_IN) cursor = cursorPolyfill('zoom-in');\n      if (tool === TOOL_ZOOM_OUT) cursor = cursorPolyfill('zoom-out');\n      if (panningWithToolAuto) cursor = cursorPolyfill('grabbing');\n      var blockChildEvents = [TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT].indexOf(tool) >= 0;\n      blockChildEvents = blockChildEvents || panningWithToolAuto;\n      var touchAction = this.props.detectPinchGesture || [TOOL_PAN, TOOL_AUTO].indexOf(this.getTool()) !== -1 ? 'none' : undefined;\n      var style = {\n        display: 'block',\n        cursor: cursor,\n        touchAction: touchAction\n      };\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: _objectSpread({\n          position: \"relative\",\n          width: value.viewerWidth,\n          height: value.viewerHeight\n        }, props.style),\n        className: this.props.className\n      }, /*#__PURE__*/React.createElement(\"svg\", {\n        ref: function ref(ViewerDOM) {\n          return _this2.ViewerDOM = ViewerDOM;\n        },\n        width: value.viewerWidth,\n        height: value.viewerHeight,\n        style: style,\n        onMouseDown: function onMouseDown(event) {\n          var nextValue = _onMouseDown(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n          _this2.handleViewerEvent(event);\n        },\n        onMouseMove: function onMouseMove(event) {\n          var _this2$ViewerDOM$getB = _this2.ViewerDOM.getBoundingClientRect(),\n            left = _this2$ViewerDOM$getB.left,\n            top = _this2$ViewerDOM$getB.top;\n          var x = event.clientX - Math.round(left);\n          var y = event.clientY - Math.round(top);\n          var nextValue = _onMouseMove(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props, {\n            x: x,\n            y: y\n          });\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n          _this2.setState({\n            pointerX: x,\n            pointerY: y\n          });\n          _this2.handleViewerEvent(event);\n        },\n        onMouseUp: function onMouseUp(event) {\n          var nextValue = _onMouseUp(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n          _this2.handleViewerEvent(event);\n        },\n        onClick: function onClick(event) {\n          _this2.handleViewerEvent(event);\n        },\n        onDoubleClick: function onDoubleClick(event) {\n          var nextValue = _onDoubleClick(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n          _this2.handleViewerEvent(event);\n        },\n        onMouseEnter: function onMouseEnter(event) {\n          if (detectTouch()) return;\n          var nextValue = onMouseEnterOrLeave(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n        },\n        onMouseLeave: function onMouseLeave(event) {\n          var nextValue = onMouseEnterOrLeave(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n        },\n        onTouchStart: function onTouchStart(event) {\n          var nextValue = _onTouchStart(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n          _this2.handleViewerEvent(event);\n        },\n        onTouchMove: function onTouchMove(event) {\n          var nextValue = _onTouchMove(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n          _this2.handleViewerEvent(event);\n        },\n        onTouchEnd: function onTouchEnd(event) {\n          var nextValue = _onTouchEnd(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n          _this2.handleViewerEvent(event);\n        },\n        onTouchCancel: function onTouchCancel(event) {\n          var nextValue = _onTouchCancel(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n          _this2.handleViewerEvent(event);\n        }\n      }, /*#__PURE__*/React.createElement(\"rect\", {\n        fill: props.background,\n        x: 0,\n        y: 0,\n        width: value.viewerWidth,\n        height: value.viewerHeight,\n        style: {\n          pointerEvents: \"none\"\n        }\n      }), /*#__PURE__*/React.createElement(\"g\", {\n        transform: toSVG(value),\n        style: blockChildEvents ? {\n          pointerEvents: \"none\"\n        } : {}\n      }, /*#__PURE__*/React.createElement(\"rect\", {\n        fill: this.props.SVGBackground,\n        style: this.props.SVGStyle,\n        x: value.SVGMinX || 0,\n        y: value.SVGMinY || 0,\n        width: value.SVGWidth,\n        height: value.SVGHeight\n      }), /*#__PURE__*/React.createElement(\"g\", null, props.children.props.children)), !([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0 && props.detectAutoPan && value.focus) ? null : /*#__PURE__*/React.createElement(\"g\", {\n        style: {\n          pointerEvents: \"none\"\n        }\n      }, !(pointerY <= 20) ? null : /*#__PURE__*/React.createElement(BorderGradient, {\n        direction: POSITION_TOP,\n        width: value.viewerWidth,\n        height: value.viewerHeight\n      }), !(value.viewerWidth - pointerX <= 20) ? null : /*#__PURE__*/React.createElement(BorderGradient, {\n        direction: POSITION_RIGHT,\n        width: value.viewerWidth,\n        height: value.viewerHeight\n      }), !(value.viewerHeight - pointerY <= 20) ? null : /*#__PURE__*/React.createElement(BorderGradient, {\n        direction: POSITION_BOTTOM,\n        width: value.viewerWidth,\n        height: value.viewerHeight\n      }), !(value.focus && pointerX <= 20) ? null : /*#__PURE__*/React.createElement(BorderGradient, {\n        direction: POSITION_LEFT,\n        width: value.viewerWidth,\n        height: value.viewerHeight\n      })), !(value.mode === MODE_ZOOMING) ? null : /*#__PURE__*/React.createElement(Selection, {\n        startX: value.startX,\n        startY: value.startY,\n        endX: value.endX,\n        endY: value.endY\n      })), props.toolbarProps.position === POSITION_NONE ? null : /*#__PURE__*/React.createElement(CustomToolbar, _extends({}, this.props.toolbarProps, {\n        value: value,\n        onChangeValue: function onChangeValue(value) {\n          return _this2.setValue(value);\n        },\n        tool: tool,\n        onChangeTool: function onChangeTool(tool) {\n          return _this2.props.onChangeTool(tool);\n        }\n      })), props.miniatureProps.position === POSITION_NONE ? null : /*#__PURE__*/React.createElement(CustomMiniature, _extends({}, this.props.miniatureProps, {\n        value: value,\n        onChangeValue: function onChangeValue(value) {\n          return _this2.setValue(value);\n        },\n        SVGBackground: this.props.SVGBackground\n      }), props.children.props.children));\n    }\n  }]);\n  return ReactSVGPanZoom;\n}(React.Component);\nexport { ReactSVGPanZoom as default };\nReactSVGPanZoom.propTypes = {\n  /**************************************************************************/\n  /*  Viewer configuration                                                  */\n  /**************************************************************************/\n\n  /**\n   *   width of the viewer displayed on screen\n   */\n  width: PropTypes.number.isRequired,\n  /**\n  * height of the viewer displayed on screen\n  */\n  height: PropTypes.number.isRequired,\n  /**\n  * value of the viewer (current camera view)\n  */\n  value: PropTypes.oneOfType([PropTypes.object, PropTypes.shape({\n    version: PropTypes.oneOf([2]).isRequired,\n    mode: PropTypes.oneOf([MODE_IDLE, MODE_PANNING, MODE_ZOOMING]).isRequired,\n    focus: PropTypes.bool.isRequired,\n    a: PropTypes.number.isRequired,\n    b: PropTypes.number.isRequired,\n    c: PropTypes.number.isRequired,\n    d: PropTypes.number.isRequired,\n    e: PropTypes.number.isRequired,\n    f: PropTypes.number.isRequired,\n    viewerWidth: PropTypes.number.isRequired,\n    viewerHeight: PropTypes.number.isRequired,\n    SVGMinX: PropTypes.number.isRequired,\n    SVGMinY: PropTypes.number.isRequired,\n    SVGWidth: PropTypes.number.isRequired,\n    SVGHeight: PropTypes.number.isRequired,\n    startX: PropTypes.number,\n    startY: PropTypes.number,\n    endX: PropTypes.number,\n    endY: PropTypes.number,\n    miniatureOpen: PropTypes.bool.isRequired\n  })]).isRequired,\n  /**\n  * handler something changed\n  */\n  onChangeValue: PropTypes.func.isRequired,\n  /**\n  * current active tool (TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT)\n  */\n  tool: PropTypes.oneOf([TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT]).isRequired,\n  /**\n  * handler tool changed\n  */\n  onChangeTool: PropTypes.func.isRequired,\n  /**************************************************************************/\n  /* Customize style                                                        */\n  /**************************************************************************/\n\n  /**\n  * background of the viewer\n  */\n  background: PropTypes.string,\n  /**\n  * background of the svg\n  */\n  SVGBackground: PropTypes.string,\n  /**\n  * style of the svg\n  */\n  SVGStyle: PropTypes.object,\n  /**\n  * CSS style of the Viewer\n  */\n  style: PropTypes.object,\n  /**\n  * className of the Viewer\n  */\n  className: PropTypes.string,\n  /**************************************************************************/\n  /* Detect events                                                          */\n  /**************************************************************************/\n\n  /**\n  * perform zoom operation on mouse scroll\n  */\n  detectWheel: PropTypes.bool,\n  /**\n  * perform PAN if the mouse is on viewer border\n  */\n  detectAutoPan: PropTypes.bool,\n  /**\n  * perform zoom operation on pinch gesture\n  */\n  detectPinchGesture: PropTypes.bool,\n  /**\n  * handler zoom level changed\n  */\n  onZoom: PropTypes.func,\n  /**\n  * handler pan action performed\n  */\n  onPan: PropTypes.func,\n  /**\n  * handler click\n  */\n  onClick: PropTypes.func,\n  /**\n  * handler double click\n  */\n  onDoubleClick: PropTypes.func,\n  /**\n  * handler mouseup\n  */\n  onMouseUp: PropTypes.func,\n  /**\n  * handler mousemove\n  */\n  onMouseMove: PropTypes.func,\n  /**\n  * handler mousedown\n  */\n  onMouseDown: PropTypes.func,\n  /**************************************************************************/\n  /* Some advanced configurations                                           */\n  /**************************************************************************/\n\n  /**\n  * if disabled the user can move the image outside the viewer\n  */\n  preventPanOutside: PropTypes.bool,\n  /**\n  * how much scale in or out\n  */\n  scaleFactor: PropTypes.number,\n  /**\n  * how much scale in or out on mouse wheel (requires detectWheel enabled)\n  */\n  scaleFactorOnWheel: PropTypes.number,\n  /**\n  * maximum amount of scale a user can zoom in to\n  */\n  scaleFactorMax: PropTypes.number,\n  /**\n  * minimum amount of a scale a user can zoom out of\n  */\n  scaleFactorMin: PropTypes.number,\n  /**\n  * modifier keys //https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/getModifierState\n  */\n  modifierKeys: PropTypes.array,\n  /**\n  * Turn off zoom on double click\n  */\n  disableDoubleClickZoomWithToolAuto: PropTypes.bool,\n  /**************************************************************************/\n  /* Miniature configurations                                                 */\n  /**************************************************************************/\n\n  /**\n  * override miniature component\n  */\n  customMiniature: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n  /**\n  * miniature props\n  */\n  miniatureProps: PropTypes.shape({\n    position: PropTypes.oneOf([POSITION_NONE, POSITION_RIGHT, POSITION_LEFT]),\n    background: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number\n  }),\n  /**************************************************************************/\n  /* Toolbar configurations                                                 */\n  /**************************************************************************/\n\n  /**\n  * override toolbar component\n  */\n  customToolbar: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n  /**\n  * toolbar props\n  */\n  toolbarProps: PropTypes.shape({\n    position: PropTypes.oneOf([POSITION_NONE, POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n    SVGAlignX: PropTypes.oneOf([ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT]),\n    SVGAlignY: PropTypes.oneOf([ALIGN_CENTER, ALIGN_TOP, ALIGN_BOTTOM]),\n    activeToolColor: PropTypes.string\n  }),\n  /**************************************************************************/\n  /* Children Check                                                         */\n  /**************************************************************************/\n  /**\n  * accept only one node SVG\n  */\n  children: function children(props, propName, componentName) {\n    // Only accept a single child, of the appropriate type\n    //credits: http://www.mattzabriskie.com/blog/react-validating-children\n    var prop = props[propName];\n    var types = ['svg'];\n    if (React.Children.count(prop) !== 1 || types.indexOf(prop.type) === -1) {\n      return new Error('`' + componentName + '` ' + 'should have a single child of the following types: ' + ' `' + types.join('`, `') + '`.');\n    }\n    if ((!prop.props.hasOwnProperty('width') || !prop.props.hasOwnProperty('height')) && !prop.props.hasOwnProperty('viewBox')) {\n      return new Error('SVG should have props `width` and `height` or `viewBox`');\n    }\n  }\n};\nReactSVGPanZoom.defaultProps = {\n  style: {},\n  background: \"#616264\",\n  SVGBackground: \"#fff\",\n  SVGStyle: {},\n  detectWheel: true,\n  detectAutoPan: true,\n  detectPinchGesture: true,\n  modifierKeys: [\"Alt\", \"Shift\", \"Control\"],\n  preventPanOutside: true,\n  scaleFactor: 1.1,\n  scaleFactorOnWheel: 1.06,\n  disableZoomWithToolAuto: false,\n  onZoom: null,\n  onPan: null,\n  toolbarProps: {},\n  miniatureProps: {}\n};","import ViewerMouseEvent from './viewer-mouse-event';\nimport ViewerTouchEvent from './viewer-touch-event';\nexport default function eventFactory(originalEvent, value, SVGViewer) {\n  var eventType = originalEvent.type;\n  switch (eventType) {\n    case \"mousemove\":\n    case \"mouseup\":\n    case \"mousedown\":\n    case \"click\":\n    case \"dblclick\":\n      return new ViewerMouseEvent(originalEvent, value, SVGViewer);\n    case \"touchstart\":\n    case \"touchmove\":\n    case \"touchend\":\n    case \"touchcancel\":\n      return new ViewerTouchEvent(originalEvent, value, SVGViewer);\n    default:\n      throw new Error(\"\".concat(eventType, \" not supported\"));\n  }\n}","/**\n * Convert (re-map) an input value range into a destination range.\n * @param value\n * @param sourceStart\n * @param sourceEnd\n * @param targetStart\n * @param targetEnd\n * @return number\n */\n\nexport default function mapRange(value, sourceStart, sourceEnd, targetStart, targetEnd) {\n  return targetStart + (targetEnd - targetStart) * (value - sourceStart) / (sourceEnd - sourceStart);\n}","//http://stackoverflow.com/a/4819886/1398836\n\nexport default function isTouchDevice() {\n  return 'ontouchstart' in window // works on most browsers\n  || navigator.maxTouchPoints; // works on IE10/11 and Surface\n}\n;","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar _excluded = [\"width\", \"height\", \"onChangeTool\", \"onChangeValue\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nimport React from \"react\";\nimport ReactSVGPanZoom from './viewer';\nimport PropTypes from \"prop-types\";\nimport { TOOL_NONE } from \"./constants\";\nvar UncontrolledReactSVGPanZoom = /*#__PURE__*/function (_React$Component) {\n  _inherits(UncontrolledReactSVGPanZoom, _React$Component);\n  var _super = _createSuper(UncontrolledReactSVGPanZoom);\n  function UncontrolledReactSVGPanZoom(props) {\n    var _this;\n    _classCallCheck(this, UncontrolledReactSVGPanZoom);\n    _this = _super.call(this, props);\n    _this.state = {\n      value: props.defaultValue || {},\n      tool: props.defaultTool || TOOL_NONE\n    };\n    _this.Viewer = null;\n    _this.changeTool = _this.changeTool.bind(_assertThisInitialized(_this));\n    _this.changeValue = _this.changeValue.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(UncontrolledReactSVGPanZoom, [{\n    key: \"changeTool\",\n    value: function changeTool(tool) {\n      this.setState({\n        tool: tool\n      });\n    }\n  }, {\n    key: \"changeValue\",\n    value: function changeValue(value) {\n      this.setState({\n        value: value\n      });\n    }\n  }, {\n    key: \"pan\",\n    value: function pan(SVGDeltaX, SVGDeltaY) {\n      this.Viewer.pan(SVGDeltaX, SVGDeltaY);\n    }\n  }, {\n    key: \"zoom\",\n    value: function zoom(SVGPointX, SVGPointY, scaleFactor) {\n      this.Viewer.zoom(SVGPointX, SVGPointY, scaleFactor);\n    }\n  }, {\n    key: \"fitSelection\",\n    value: function fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n      this.Viewer.fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight);\n    }\n  }, {\n    key: \"fitToViewer\",\n    value: function fitToViewer(SVGAlignX, SVGAlignY) {\n      this.Viewer.fitToViewer(SVGAlignX, SVGAlignY);\n    }\n  }, {\n    key: \"zoomOnViewerCenter\",\n    value: function zoomOnViewerCenter(scaleFactor) {\n      this.Viewer.zoomOnViewerCenter(scaleFactor);\n    }\n  }, {\n    key: \"setPointOnViewerCenter\",\n    value: function setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel) {\n      this.Viewer.setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.Viewer.reset();\n    }\n  }, {\n    key: \"openMiniature\",\n    value: function openMiniature() {\n      this.Viewer.openMiniature();\n    }\n  }, {\n    key: \"closeMiniature\",\n    value: function closeMiniature() {\n      this.Viewer.closeMiniature();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props = this.props,\n        width = _this$props.width,\n        height = _this$props.height,\n        onChangeTool = _this$props.onChangeTool,\n        onChangeValue = _this$props.onChangeValue,\n        props = _objectWithoutProperties(_this$props, _excluded);\n      var _this$state = this.state,\n        tool = _this$state.tool,\n        value = _this$state.value;\n      return /*#__PURE__*/React.createElement(ReactSVGPanZoom, _extends({\n        width: width,\n        height: height,\n        tool: tool,\n        onChangeTool: this.changeTool,\n        value: value,\n        onChangeValue: this.changeValue,\n        ref: function ref(Viewer) {\n          return _this2.Viewer = Viewer;\n        }\n      }, props));\n    }\n  }]);\n  return UncontrolledReactSVGPanZoom;\n}(React.Component);\nexport { UncontrolledReactSVGPanZoom as default };\nUncontrolledReactSVGPanZoom.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  defaultValue: PropTypes.object,\n  defaultTool: PropTypes.string\n};"],"names":["___EmotionJSX","E1","Head","applyToPoint","matrix","point","Array","isArray","a","c","e","b","d","f","x","y","applyToPoints","points","map","fromObject","object","parseFloat","inverse","denom","isUndefined","val","translate","tx","ty","transform","matrices","multiply","m1","m2","length","Error","rest","scale","sx","sy","undefined","cx","cy","scaleMatrix","peg$SyntaxError","message","expected","found","location","self","call","this","Object","setPrototypeOf","prototype","name","peg$padEnd","str","targetLength","padString","repeat","slice","child","parent","C","constructor","peg$subclass","format","sources","k","src","source","text","split","s","start","offset_s","offset","loc","line","column","end","filler","toString","hatLen","buildMessage","DESCRIBE_EXPECTATION_FNS","literal","expectation","literalEscape","class","escapedParts","parts","part","classEscape","inverted","join","any","other","description","hex","ch","charCodeAt","toUpperCase","replace","describeExpectation","type","i","j","descriptions","sort","describeExpected","describeFound","MODE_IDLE","MODE_PANNING","MODE_ZOOMING","TOOL_AUTO","TOOL_NONE","TOOL_PAN","TOOL_ZOOM_IN","TOOL_ZOOM_OUT","POSITION_NONE","POSITION_TOP","POSITION_RIGHT","POSITION_BOTTOM","POSITION_LEFT","ACTION_ZOOM","ACTION_PAN","ALIGN_CENTER","ALIGN_LEFT","ALIGN_RIGHT","ALIGN_TOP","ALIGN_BOTTOM","ALIGN_COVER","INITIAL_VALUE","_typeof","obj","Symbol","iterator","ownKeys","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","arguments","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","arg","input","hint","prim","toPrimitive","res","TypeError","String","Number","_toPrimitive","_toPropertyKey","configurable","writable","DEFAULT_MODE","getDefaultValue","viewerWidth","viewerHeight","SVGMinX","SVGMinY","SVGWidth","SVGHeight","scaleFactorMin","scaleFactorMax","set","version","mode","focus","pinchPointDistance","prePinchMode","startX","startY","endX","endY","miniatureOpen","lastAction","patch","action","assign","freeze","getSVGPoint","viewerX","viewerY","decompose","scaleFactor","translationX","translationY","setSVGViewBox","resetMode","_defineProperties","props","descriptor","ViewerEvent","originalEvent","SVGViewer","instance","Constructor","_classCallCheck","protoProps","staticProps","get","_cacheDecomposedValue","preventDefault","stopPropagation","_slicedToArray","arr","_arrayWithHoles","_i","_s","_e","_x","_r","_arr","_n","_d","next","done","err","return","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","n","from","test","_unsupportedIterableToArray","_nonIterableRest","len","arr2","SVGDeltaX","SVGDeltaY","panLimit","_applyToPoints2","_applyToPoints2$","x1","y1","_applyToPoints2$2","x2","y2","moveX","moveY","stopPanning","calculateBox","width","height","isZoomLevelGoingOutOfBounds","curScaleFactor","lessThanScaleFactorMin","moreThanScaleFactorMax","limitZoomLevel","scaleLevel","Math","max","min","SVGPointX","SVGPointY","selectionSVGPointX","selectionSVGPointY","selectionWidth","selectionHeight","scaleX","scaleY","SVGAlignX","SVGAlignY","translateX","translateY","remainderY","round","remainderX","_remainderX","_remainderY","stopZooming","abs","box","SVGPoint","getMousePosition","event","ViewerDOM","_ViewerDOM$getBoundin","getBoundingClientRect","left","top","clientX","clientY","tool","_ref","nextValue","startZooming","startPanning","_ref2","forceExit","buttons","updateZooming","updatePanning","preventPanOutside","_ref3","onMouseEnterOrLeave","setFocus","onInterval","coords","indexOf","detectAutoPan","deltaX","deltaY","autoPanIfNeeded","_setPrototypeOf","p","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","ReferenceError","_assertThisInitialized","_possibleConstructorReturn","getPrototypeOf","ViewerMouseEvent","_ViewerEvent","subClass","superClass","create","_inherits","_super","_cachePoint","mousePosition","ViewerTouchEvent","touches","touch","rect","identifier","_cachePoints","touchesToPoints","_cacheChangedPoints","changedTouches","parseViewBox","viewBoxString","detectPinchGesture","hasPinchPointDistance","shouldResetPinchPointDistance","onSingleTouch","isMultiTouch","nextValueFn","touchPosition","getTouchPosition","onMultiTouch","_ViewerDOM$getBoundin2","sqrt","pow","previousPointDistance","svgPoint","distanceFactor","cancelable","userAgent","navigator","toLowerCase","cursor","needPrefix","concat","_extends","hasOwnProperty","uid","RandomUID","WrappedComponent","_React$Component","_this","state","_uid","displayName","getDisplayName","prefixID","BorderGradient","direction","gradientID","maskID","id","spreadMethod","stopColor","stopOpacity","style","stroke","fill","mask","propTypes","isRequired","Selection","strokeOpacity","fillOpacity","pointerEvents","IconCursor","IconPan","IconZoomIn","IconZoomOut","IconFit","ToolbarButton","hover","setState","_this2","display","margin","toolbarPosition","color","active","activeColor","transition","background","padding","border","outline","onMouseEnter","change","onMouseLeave","onTouchStart","onClick","onTouchEnd","onTouchCancel","title","children","Toolbar","onChangeValue","onChangeTool","activeToolColor","position","handleChangeTool","isHorizontal","right","bottom","backgroundColor","borderRadius","flexDirection","role","handleFit","IconArrow","open","MiniatureToggleButton","_style","defaultProps","MiniatureMask","zoomToFit","opacity","Miniature","SVGBackground","miniatureWidth","miniatureHeight","ratio","overflow","centerTranslation","ReactSVGPanZoom","context","defaultValue","SVGViewBox","viewBox","_parseViewBox2","_children$props","pointerX","pointerY","autoPanLoop","onWheel","prevProps","getValue","needUpdate","_parseViewBox4","_props$children$props","setViewerSize","setZoomLevels","setValue","autoPanIsRunning","requestAnimationFrame","addEventListener","removeEventListener","_this$props","onZoom","onPan","zoomLevel","getTool","onEventHandler","click","dblclick","onDoubleClick","mousemove","onMouseMove","mouseup","onMouseUp","mousedown","onMouseDown","touchstart","touchmove","onTouchMove","touchend","touchcancel","eventType","eventFactory","_ref5","detectWheel","sourceStart","sourceEnd","targetStart","targetEnd","mapRange","scaleFactorOnWheel","_this$state","_props$customToolbar","customToolbar","CustomToolbar","_props$customMiniatur","customMiniature","CustomMiniature","panningWithToolAuto","blockChildEvents","touchAction","className","ref","handleViewerEvent","_this2$ViewerDOM$getB","_ref4","disableDoubleClickZoomWithToolAuto","_props$modifierKeys","modifierKeys","reduce","current","modifierKey","getModifierState","window","maxTouchPoints","SVGStyle","toolbarProps","miniatureProps","propName","componentName","prop","types","count","disableZoomWithToolAuto","_excluded","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","UncontrolledReactSVGPanZoom","defaultTool","Viewer","changeTool","changeValue","pan","zoom","fitSelection","fitToViewer","zoomOnViewerCenter","setPointOnViewerCenter","reset","openMiniature","closeMiniature"],"sourceRoot":""}