"use strict";(self.webpackChunktrs_80_model_1_debugging=self.webpackChunktrs_80_model_1_debugging||[]).push([[372],{5529:function(t,n,e){e.r(n),e.d(n,{Head:function(){return I},default:function(){return F}});var l=e(7294),r=e(9084),a=e(8534),o=e(8790),i=(e(3462),e(3824),e(8044)),Z=e(9836),u=e(1219),s=e(782),c=e(7926),d=e(1166),p=e(6422),g=e(5305),v=e(7153),f=e(6967),x=e(985),y=e(5069),m=e(463),h=e(4519),b=e(917);var w=t=>{const{onLoad:n}=t,[e,a]=l.useState(""),[o,w]=l.useState(null),S=l.useCallback((t=>{t.forEach((t=>{const e=new FileReader;e.onabort=()=>w("File reading was aborted."),e.onerror=()=>w("File reading has failed."),e.onload=()=>{const t=e.result;var l;t instanceof ArrayBuffer?(l=Array.from(new Uint8Array(t)),n(l)):w("File contents were read as non-binary.")},e.readAsArrayBuffer(t)}))}),[]),{getRootProps:k,getInputProps:C}=(0,m.uI)({onDrop:S});return(0,b.tZ)(l.Fragment,null,(0,b.tZ)(Z.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:null!=o,autoHideDuration:5e3,disableWindowBlurListener:!0,color:"danger",size:"lg",onClose:()=>{w(null)}},o),(0,b.tZ)(r.Z,{xs:12},(0,b.tZ)(u.ZP,{level:"title-lg"},"Input")),(0,b.tZ)(r.Z,{xs:12},(0,b.tZ)(i.Z,{variant:"outlined"},(0,b.tZ)(c.Z,null,(0,b.tZ)(d.Z,null,(0,b.tZ)(s.Z,{variant:"plain",color:"neutral"},"File Drop"),(0,b.tZ)(s.Z,{variant:"plain",color:"neutral"},"JSON")),(0,b.tZ)(p.Z,{value:0,sx:{minHeight:"650px"}},(0,b.tZ)("div",k(),(0,b.tZ)("div",{style:{border:"1px dashed black",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"610px",alignItems:"center",cursor:"pointer"}},(0,b.tZ)("input",C()),(0,b.tZ)(h.Z,null),(0,b.tZ)("p",null,"Drag 'n' drop file here, or click to select file")))),(0,b.tZ)(p.Z,{value:2,sx:{minHeight:"650px"}},(0,b.tZ)(y.Z,null,(0,b.tZ)(f.Z,null,"JSON byte array:"),(0,b.tZ)(v.Z,{minRows:15,maxRows:15,placeholder:"[68, 43, ...]",variant:"outlined",value:e,onChange:t=>a(t.target.value)}),(0,b.tZ)(x.Z,null,"Enter the binary data from a JSON number array."),(0,b.tZ)(g.Z,{onClick:()=>{try{const t=JSON.parse(e),l=new Array(t);w(null),n(l)}catch(t){let n;n=t instanceof Error?t.message:String(t),w("Error while parsing JSON: "+n)}}},"Load")))))))},S=e(5071),k=e(2325),C=e(3441),O=e(6385);var B=t=>{const{data:n,onSaveBack:e}=t,[a,o]=l.useState(null),u=JSON.stringify(n);return(0,b.tZ)(l.Fragment,null,(0,b.tZ)(Z.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:null!=a,autoHideDuration:5e3,disableWindowBlurListener:!0,color:"danger",size:"lg",onClose:()=>{o(null)}},a),(0,b.tZ)(r.Z,{xs:12},(0,b.tZ)(i.Z,{variant:"outlined",sx:{p:4}},(0,b.tZ)(y.Z,null,(0,b.tZ)(f.Z,null,"JSON byte array:"),(0,b.tZ)(v.Z,{minRows:5,maxRows:5,variant:"outlined",value:u,readOnly:!0})))),(0,b.tZ)(r.Z,{xs:12},(0,b.tZ)(i.Z,{variant:"outlined",sx:{p:4}},(0,b.tZ)(r.Z,{container:!0,spacing:2,sx:{flexGrow:1}},(0,b.tZ)(r.Z,{xs:3},(0,b.tZ)(g.Z,{loading:!1,onClick:e,variant:"soft",color:"neutral"},"Back")),(0,b.tZ)(r.Z,{xs:3},(0,b.tZ)(g.Z,{loading:!1,onClick:()=>{(0,C.v)(u)},variant:"solid"},(0,b.tZ)(O.Z,null),"Copy To Clipboard")),(0,b.tZ)(r.Z,{xs:6},(0,b.tZ)(S.Z,{display:"flex",justifyContent:"flex-end"},(0,b.tZ)(g.Z,{loading:!1,onClick:()=>{(0,k.O)(new Uint8Array(n),"rom.bin")},variant:"solid"},"Download Binary")))))))},_=e(9929),A=e(9396);const D=[{text:"Input",Icon:(0,b.tZ)(A.Z,null)},{text:"Save",Icon:(0,b.tZ)(_.Z,null)}];var F=()=>{const[t,n]=l.useState(0),[e,i]=l.useState(null),Z=t=>{i(t),n(1)},u=()=>{n(0)};let s=null;0===t&&(s=(0,b.tZ)(w,{onLoad:Z}));let c=null;return 1===t&&e&&(c=(0,b.tZ)(B,{data:e,onSaveBack:u})),(0,b.tZ)(a.Z,null,(0,b.tZ)(r.Z,{container:!0,spacing:2,sx:{flexGrow:1,paddingBottom:"2rem"}},(0,b.tZ)(o.Z,{steps:D,currentStep:t})),s,c)};const I=()=>(0,b.tZ)("title",null,"ROM Load")}}]);
//# sourceMappingURL=component---src-pages-load-rom-tsx-6ea816443b9f6a8bb95a.js.map